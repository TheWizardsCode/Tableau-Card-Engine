{"data":{"assignee":"","createdAt":"2026-02-18T18:46:49.678Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"Goal: Implement a 9-card (3×3) Golf variant spike suitable for quick UI/grid experiments.\n\nWhy: Tiny rules, deterministic scoring and minimal interactions (flip/swap/discard) make this ideal as a first spike. Good fit for GridContainer (Godot) or Phaser Container.\n\nCore objects:\n- Card { rank, suit, faceUp }\n- Grid[3][3]\n- DrawPile, DiscardPile\n\nShort rules (reference): players lay out 9 cards face-down in a 3×3 grid, reveal some cards, and take turns drawing from the draw pile or top of discard; drawn card may replace a grid card or be discarded; round ends when a player has all cards face-up; scoring: A=1, 2=-2, 3-10=face value, J/Q=10, K=0; three-of-a-kind columns score 0 (Wikipedia: https://en.wikipedia.org/wiki/Golf_(card_game)).\n\nResources:\n- Wikipedia (rules & variants): https://en.wikipedia.org/wiki/Golf_(card_game)\n- Brief rules/variants / BGG thread: https://boardgamegeek.com/wiki/page/Golf\n- Implementation notes: grid state, explicit discard/draw piles; minimal animations.\n\nAcceptance criteria:\n- Work item must include clear rules summary, UI/UX notes, and 1–2 example test cases for scoring.","effort":"","id":"CG-0MLSDVRYM0DEFOFI","issueType":"feature","needsProducerReview":false,"parentId":null,"priority":"medium","risk":"","sortIndex":100,"stage":"","status":"deleted","tags":[],"title":"9-Card Golf","updatedAt":"2026-02-18T19:21:46.924Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T18:46:51.117Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"Goal: Implement Beleaguered Castle as a deterministic, open solitaire spike (all cards face-up).\n\nWhy: No hidden state; tableau of 8 piles with simple build-down-in-suit rules; good for drag-and-drop and auto-move logic experiments.\n\nCore objects:\n- Foundations (4 aces) built up by suit to Kings\n- Tableau: 8 piles (arrays) built down regardless of suit; top card available\n- Moves deterministic: move top of pile -> foundation or other pile; empty piles accept any card\n\nShort rules: remove aces to foundation, deal remaining cards into 8 columns to the left/right; build foundations up by suit; tableau builds down regardless of suit; win when all cards are on foundations (Wikipedia: https://en.wikipedia.org/wiki/Beleaguered_Castle).\n\nResources:\n- Wikipedia: https://en.wikipedia.org/wiki/Beleaguered_Castle\n- Solitaire reference pages and sample implementations: various open-source solitaire engines\n\nAcceptance criteria:\n- Include layout diagram, move rules, and auto-move heuristics; add example winning sequence.","effort":"","id":"CG-0MLSDVT2K1Y557WS","issueType":"feature","needsProducerReview":false,"parentId":null,"priority":"medium","risk":"","sortIndex":200,"stage":"","status":"deleted","tags":[],"title":"Beleaguered Castle (open solitaire)","updatedAt":"2026-02-18T19:21:48.705Z"},"type":"workitem"}
{"data":{"assignee":"Map","createdAt":"2026-02-18T18:47:10.416Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSDW7YM1IWH2SB","to":"CG-0MLSFU7300TLFCBH"}],"description":"# Intake Brief: 9-Card Golf (CG-0MLSDW7YM1IWH2SB)\n\n**Priority: Critical** | **Type: Feature (Epic)** | **Assignee: Map**\n\n> First engine spike: build a playable single-round 9-Card Golf game (human vs. AI) to validate the Tableau Card Engine architecture end-to-end and surface missing abstractions before tackling larger games.\n\n## Problem Statement\n\nThe Tableau Card Engine has a working scaffold (toolchain, project structure, Phaser integration) but zero game logic, card abstractions, or gameplay features. A small, well-scoped spike is needed to validate the engine architecture end-to-end — from card data models through game rules to a playable Phaser UI — and to surface missing framework capabilities before tackling larger games. 9-Card Golf's tiny rule set (flip, swap, discard on a 3x3 grid) makes it the ideal first spike.\n\n## Users\n\n- **Engine developer (primary):** Validates that the engine's modular architecture (card-system, rule-engine, core-engine, ui) can support a real game. Uses the spike to discover which abstractions are missing and which APIs need refinement.\n  - *\"As an engine developer, I want to build a complete card game using the engine modules so I can identify gaps in Card, Deck, Pile, and Grid abstractions before building more complex games.\"*\n\n- **QA / AI tester:** Uses an AI player to exercise all game paths (random + greedy strategies) and produce reproducible game transcripts for regression testing.\n  - *\"As a tester, I want an AI opponent that can play complete games automatically so I can validate scoring, turn flow, and edge cases without manual play.\"*\n\n- **Game designer (future):** Uses the completed spike as a reference implementation and template for building additional example games.\n  - *\"As a game designer, I want a working reference game that demonstrates how to wire up scenes, rules, and UI so I can quickly scaffold new card games.\"*\n\n## Success Criteria\n\n1. **Playable single round:** A human player can play a complete single round of 9-Card Golf against 1 AI opponent in a Phaser scene — including initial card reveal, draw/swap/discard turns, and end-of-round scoring.\n2. **AI player with two strategies:** An AI player is implemented with both random (valid moves) and greedy (minimize visible score) strategies, selectable at game start or via configuration.\n3. **Correct scoring:** Scoring logic correctly implements: A=1, 2=-2, 3-10=face value, J/Q=10, K=0, three-of-a-kind columns=0. Automated unit tests cover at least 3 distinct scoring scenarios (including a column-of-three-of-a-kind case).\n4. **Game transcript:** Each completed game produces a JSON transcript recording the full sequence of turns, actions, and resulting board states — sufficient to replay and verify the game.\n5. **Visual replay (stretch goal):** A visual replay capability captures a screenshot or canvas snapshot per turn for human review of completed games. This is a stretch goal for this spike — a dedicated dev tool for game log playback and screenshot capture will be tracked separately.\n\n## Constraints\n\n- **First spike — no existing game logic:** All four engine modules (card-system, core-engine, rule-engine, ui) are currently empty stubs (version constants only). Every game-related abstraction must be built from scratch during this spike.\n- **Card assets incomplete:** Only 2 placeholder SVGs exist (ace_of_spades.svg, card_back.svg at 140x190px). A full 52-card deck of face assets is needed. Assets must be CC0 or permissively licensed (MIT, Apache 2.0, or similar) per project policy.\n- **No assumptions about framework features:** This is the project's first game spike. Do not assume any framework features exist beyond the proven scaffold (Vite, TypeScript, Phaser, Vitest). Missing capabilities must be built or sourced as part of the spike.\n- **Single round only:** Scope is limited to one round of play (one deal through to scoring). Multi-round / \"9 holes\" format is out of scope.\n- **1 Human + 1 AI:** Player count is fixed at one human and one AI opponent for this spike.\n- **Licensing:** All assets and code must be open and freely available for commercial use per CREDITS.md policy.\n\n## Existing State\n\n- **Toolchain:** Fully operational — Vite 6.1, TypeScript 5.7 (strict mode), Vitest 3.0, Phaser 3.90.0. Dev server on port 3000, production builds to `dist/`.\n- **Project structure:** Monorepo layout with `src/` (engine modules) and `example-games/` (game spikes). Path aliases configured (`@core-engine/*`, `@card-system/*`, `@rule-engine/*`, `@ui/*`).\n- **Engine modules:** All four modules (`card-system`, `core-engine`, `rule-engine`, `ui`) exist as directories with barrel `index.ts` files exporting only version constants. Zero implementation.\n- **Hello-world example:** Working Phaser scene proving SVG asset loading, tween animations, and text rendering. No interactivity or game logic. Establishes card dimensions (140x190px) and scene patterns.\n- **Assets:** 2 SVGs (ace of spades face, card back) at 140x190px in `public/assets/cards/`. Attribution in `CREDITS.md`.\n- **Tests:** Single smoke test confirming Vitest works. No meaningful game or engine tests.\n\n## Desired Change\n\nBuild a playable 9-Card Golf example game at `example-games/golf/` that exercises and populates the engine modules:\n\n- **card-system:** Implement Card type (rank, suit, faceUp), Deck (create, shuffle, draw), and Pile (push, pop, peek) abstractions. Add a Grid[3][3] type (may live locally in the golf game initially).\n- **rule-engine:** Implement Golf-specific turn logic (draw from pile or discard, replace grid card or discard drawn card), end-of-round detection (all cards face-up), and scoring rules.\n- **core-engine:** Implement minimal game state management and turn sequencing sufficient to drive a 2-player (human + AI) game loop.\n- **ui:** Build Phaser scene(s) for the golf game: 3x3 grid layout, draw/discard piles, card flip/swap animations, score display, turn indicators.\n- **AI player:** Implement two strategies (random valid move, greedy minimize-score) behind a selectable interface.\n- **Recording:** Produce a JSON game transcript per completed game. Per-turn visual snapshots are a stretch goal (see Risks & Assumptions).\n- **Card assets:** Source or generate a complete 52-card deck of face SVGs (CC0/permissive) at 140x190px. Update `public/assets/CREDITS.md` with attribution.\n- **Tests:** Unit tests for scoring logic (minimum 3 scenarios), turn legality, and deck operations. All tests must pass via `npm test`; build must succeed via `npm run build`.\n\n## Risks & Assumptions\n\n### Risks\n- **Scope creep from engine extraction:** Building reusable engine modules alongside a game spike may slow progress. Mitigation: build game-specific implementations first, then extract to shared modules only where the abstraction is clear and stable.\n- **Card asset sourcing:** Finding or generating 52 CC0/permissive SVG card faces at consistent quality and dimensions (140x190px) may take non-trivial effort. Mitigation: consider programmatic SVG generation or an existing open-source deck (e.g., the SVG-cards GitHub repo).\n- **Visual replay deferred:** Per-turn screenshot capture is a stretch goal for this spike. A dedicated dev tool for game log playback and image capture (using Playwright or similar) will be built as a separate high-priority work item, blocked by this spike. See related work item below.\n- **Grid abstraction placement:** Unclear whether Grid[3][3] should live in card-system (reusable) or locally in the golf game. Mitigation: build locally first; extract after a second game validates the abstraction.\n\n### Assumptions\n- A standard 52-card deck (no jokers) is sufficient for 9-Card Golf.\n- The 9-card variant uses the scoring rules from Wikipedia (A=1, 2=-2, 3-10=face, J/Q=10, K=0, column-of-three=0). No house-rule variants are in scope.\n- Phaser 3.90.0's built-in scene management and tween system are sufficient for card flip/swap animations without additional libraries.\n- The AI player does not need to be competitive — it only needs to make legal moves to exercise game paths.\n\n## Suggested Next Step\n\nBreak CG-0MLSDW7YM1IWH2SB into child work items covering: card asset sourcing, card-system implementation, rule-engine (Golf scoring + turn logic), core-engine (game loop + state), UI (Phaser scenes), AI player, game recording, and test suite. Then begin implementation of the first child item per `wl next`.\n\n## Related Work\n\n- **Game Log Visual Replay Dev Tool (CG-0MLSN2YWY1EL17FN):** High-priority feature to build a Playwright-based dev tool that replays JSON game transcripts and captures per-turn screenshots. Blocked by this spike (requires working game with transcript output).\n- **Scaffold Card Game Engine project (CG-0MLSFU7300TLFCBH):** Completed epic that set up the repository structure, toolchain, and empty module stubs. This spike builds directly on that foundation.\n- **Wikipedia — Golf (card game):** https://en.wikipedia.org/wiki/Golf_(card_game) — Canonical rules reference.\n- **BoardGameGeek — Golf:** https://boardgamegeek.com/wiki/page/Golf — Variant rules and community discussion.\n- **AGENTS.md:** Project rules, spike-driven development approach, engine architecture, and quality gates.\n- **docs/DEVELOPER.md:** Developer setup, build/test commands, and asset management.\n- **public/assets/CREDITS.md:** Asset attribution policy and suggested sources (OpenGameArt.org, Kenney.nl, SVG-cards repo).\n\n## Related work (automated report)\n\nSearched Worklog (keywords: golf, card, game, spike, scoring, grid, deck, phaser) and repository files. No duplicate work items found.\n\n### Worklog items\n\n- **Scaffold Card Game Engine project (CG-0MLSFU7300TLFCBH)** [completed]: Established the repository structure, Vite/TypeScript/Phaser toolchain, hello-world example, and empty engine module stubs. This spike is a direct dependency — it provides the foundation (build tooling, directory layout, card asset pipeline patterns) that the Golf spike will build on. The hello-world scene patterns (SVG loading at 140x190px, Phaser.Scene subclass, game config) serve as templates for the Golf scene implementation.\n\n- **Game Log Visual Replay Dev Tool (CG-0MLSN2YWY1EL17FN)** [blocked by this item]: High-priority feature to build a Playwright-based CLI tool that replays JSON game transcripts and captures per-turn screenshots. Directly blocked by this spike — it requires a working game producing JSON transcripts. The transcript format defined by this Golf spike will become the initial schema for the replay tool.\n\n- **Beleaguered Castle (CG-0MLSDWFLT1WB6IEB)** [blocked by this item]: Open solitaire spike with deterministic, all-face-up gameplay. Blocked by this spike because it will reuse Card, Deck, and Pile abstractions built here. Its tableau/foundation model will exercise different engine patterns (build-up-by-suit vs. Golf's grid/scoring), providing a second validation point for engine module APIs.\n\n- **Sushi Go! (CG-0MLSDWSCG154TUEL)**, **Splendor (CG-0MLSDX4B91DG6S1A)**, **Lost Cities (CG-0MLSDXELC06VESJL)**, **The Mind (CG-0MLSDXNMM1R2IMT9)**, **Coloretto (CG-0MLSDXY9F1FSGQ38)** [all blocked]: Five additional game spikes at idea stage. All will consume the card-system and core-engine modules first built by this Golf spike. Not directly related but will benefit from abstractions validated here.\n\n- **Add pre-commit hook to enforce doc updates (CG-0MLSHQMDY1H0I2B7)** [open]: Infrastructure task to add doc-update enforcement. Not directly related to this spike but the Golf spike should comply with the doc-update policy when making infrastructure changes.\n\n- **Rename project to Tableau Card Engine (CG-0MLSIULHH0Y6I3DV)** [completed]: Branding rename already applied. The Golf spike should use \"Tableau Card Engine\" / \"TCE\" naming consistently.\n\n### Repository files\n\n- **`example-games/hello-world/`**: Establishes the patterns this spike should follow — `main.ts` entry point, `scenes/` directory with Phaser.Scene subclass, SVG asset loading via `this.load.svg()` with explicit dimensions, game config with scale mode and parent container.\n\n- **`src/card-system/index.ts`**: Empty stub (exports only `CARD_SYSTEM_VERSION`). This spike must populate it with Card, Deck, and Pile abstractions.\n\n- **`src/core-engine/index.ts`**: Empty stub (exports only `ENGINE_VERSION`). This spike must add minimal game state management and turn sequencing.\n\n- **`src/rule-engine/index.ts`**: Empty stub (exports only `RULE_ENGINE_VERSION`). This spike must add Golf-specific turn logic and scoring.\n\n- **`src/ui/index.ts`**: Empty stub (exports only `UI_VERSION`). This spike must add Phaser scene components for the Golf game.\n\n- **`public/assets/cards/`**: Contains 2 placeholder SVGs (ace_of_spades.svg, card_back.svg) at 140x190px establishing the card asset format. This spike must source or generate the remaining 51 card faces.\n\n- **`public/assets/CREDITS.md`**: Documents asset attribution policy and suggests sources (OpenGameArt.org, Kenney.nl, SVG-cards GitHub repo). Must be updated when new card assets are added.\n\n- **`tests/smoke.test.ts`**: Trivial Vitest smoke test. This spike must add meaningful tests for scoring logic, turn legality, and deck operations alongside this existing test.","effort":"","id":"CG-0MLSDW7YM1IWH2SB","issueType":"epic","needsProducerReview":false,"parentId":null,"priority":"critical","risk":"","sortIndex":300,"stage":"in_progress","status":"completed","tags":[],"title":"9-Card Golf","updatedAt":"2026-02-19T04:07:54.456Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T18:47:20.322Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSDWFLT1WB6IEB","to":"CG-0MLSDW7YM1IWH2SB"},{"from":"CG-0MLSDWFLT1WB6IEB","to":"CG-0MLSFU7300TLFCBH"}],"description":"Goal: Implement Beleaguered Castle as a deterministic, open solitaire spike (all cards face-up).\n\nWhy: No hidden state; tableau of 8 piles with simple build-down-in-suit rules; good for drag-and-drop and auto-move logic experiments.\n\nCore objects:\n- Foundations (4 aces) built up by suit to Kings\n- Tableau: 8 piles (arrays) built down regardless of suit; top card available\n- Moves deterministic: move top of pile -> foundation or other pile; empty piles accept any card\n\nShort rules: remove aces to foundation, deal remaining cards into 8 columns to the left/right; build foundations up by suit; tableau builds down regardless of suit; win when all cards are on foundations (Wikipedia: https://en.wikipedia.org/wiki/Beleaguered_Castle).\n\nResources:\n- Wikipedia: https://en.wikipedia.org/wiki/Beleaguered_Castle\n- Solitaire reference pages and sample implementations: various open-source solitaire engines\n\nAcceptance criteria:\n- Include layout diagram, move rules, and auto-move heuristics; add example winning sequence.","effort":"","id":"CG-0MLSDWFLT1WB6IEB","issueType":"feature","needsProducerReview":false,"parentId":null,"priority":"medium","risk":"","sortIndex":400,"stage":"idea","status":"open","tags":[],"title":"Beleaguered Castle (open solitaire)","updatedAt":"2026-02-19T04:07:54.524Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T18:47:36.860Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSDWSCG154TUEL","to":"CG-0MLSDWFLT1WB6IEB"},{"from":"CG-0MLSDWSCG154TUEL","to":"CG-0MLSFU7300TLFCBH"}],"description":"Goal: Implement Sushi Go! (tableau drafting) spike — drafting mechanics + public scoring.\n\nWhy: Public scoring, no spatial layout required; easy card-draft → tableau animation and deterministic scoring functions (works well with LLM-augmented scoring helpers).\n\nCore objects:\n- Hand[] (cards in a player's hand during draft)\n- Tableau[] (collected cards per player)\n- ScoreCalculator (scoring rules per card type)\n\nShort rules: 2–5 players, 3 rounds; each round players pick one card from their hand, pass remaining hand to the left (or right) and reveal simultaneously; cards scored at end of round/3 rounds (Wikipedia: https://en.wikipedia.org/wiki/Sushi_Go!).\n\nResources:\n- Wikipedia summary: https://en.wikipedia.org/wiki/Sushi_Go!\n- Publisher (Gamewright) product page: https://gamewright.com/product/Sushi-Go\n- Example OSS projects (search GitHub: Sushi","effort":"","id":"CG-0MLSDWSCG154TUEL","issueType":"feature","needsProducerReview":false,"parentId":null,"priority":"medium","risk":"","sortIndex":500,"stage":"idea","status":"blocked","tags":[],"title":"Sushi Go! (drafting)","updatedAt":"2026-02-18T19:53:43.289Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T18:47:52.341Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSDX4B91DG6S1A","to":"CG-0MLSDWSCG154TUEL"},{"from":"CG-0MLSDX4B91DG6S1A","to":"CG-0MLSFU7300TLFCBH"}],"description":"Goal: Implement Splendor spike concentrating on card market, gem token pool, and purchase mechanics.\n\nWhy: Clean rules, no hidden info, strong fit for JSON-driven card definitions (cost/bonus/points). Good for token animations and purchase interactions.\n\nCore objects:\n- Card { cost[], bonus, points }\n- Tokens[] (emerald/sapphire/ruby/diamond/onyx/gold)\n- Market (visible row of development cards per tier)\n- Player.tableau[] (purchased cards, reserved cards)\n\nShort rules: players take tokens, reserve cards (gain gold), or purchase cards by paying cost with tokens/bonuses; nobles give prestige; game ends when a player reaches 15 points (Wikipedia: https://en.wikipedia.org/wiki/Splendor_(board_game)).\n\nResources:\n- Wikipedia: https://en.wikipedia.org/wiki/Splendor_(board_game)\n- Rulebook PDF (publisher): https://www.spacecowboys.fr/images/jeux/splendor/rules_splendor_en.pdf\n- OSS/mobile apps exist (search Splendor","effort":"","id":"CG-0MLSDX4B91DG6S1A","issueType":"feature","needsProducerReview":false,"parentId":null,"priority":"medium","risk":"","sortIndex":600,"stage":"idea","status":"blocked","tags":[],"title":"Splendor (engine-building)","updatedAt":"2026-02-18T19:53:45.189Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T18:48:05.665Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSDXELC06VESJL","to":"CG-0MLSDX4B91DG6S1A"},{"from":"CG-0MLSDXELC06VESJL","to":"CG-0MLSFU7300TLFCBH"}],"description":"Goal: Implement Lost Cities focusing on per-player color lanes, ascending-play rule and discard piles.\n\nWhy: Simple ascending-play mechanic, discard piles per color, and easy lane-slot animations make this a good 2-player spike.\n\nCore objects:\n- Lanes[color] per player = [] (cards played in ascending order)\n- Discard[color] piles\n- DrawPile\n\nShort rules: 2 players, each turn play a card to an expedition lane (must be >= last card) or discard and draw; expeditions score with inversion for unstarted ones (Wikipedia: https://en.wikipedia.org/wiki/Lost_Cities).\n\nResources:\n- Wikipedia: https://en.wikipedia.org/wiki/Lost_Cities\n- BoardGameGeek: https://boardgamegeek.com/boardgame/2349/lost-cities\n- Example digital implementation notes e.g., Xbox/Steam ports (historical)\n\nAcceptance criteria:\n- Describe lane model, legal-play checks, discard/draw flow, and scoring examples.","effort":"","id":"CG-0MLSDXELC06VESJL","issueType":"feature","needsProducerReview":false,"parentId":null,"priority":"medium","risk":"","sortIndex":700,"stage":"idea","status":"blocked","tags":[],"title":"Lost Cities (2-player lanes)","updatedAt":"2026-02-18T19:53:46.746Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T18:48:17.374Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSDXNMM1R2IMT9","to":"CG-0MLSDXELC06VESJL"},{"from":"CG-0MLSDXNMM1R2IMT9","to":"CG-0MLSFU7300TLFCBH"}],"description":"Goal: Implement an open-hand variant of The Mind: shared ascending pile where players cooperate by placing cards in ascending order without hidden hands.\n\nWhy: Removing hidden-hand/timing complexity leaves a single shared tableau (pile) and ascending-play rules — excellent for timing/animation experiments and cooperative UI.\n\nCore objects:\n- SharedPile[] (the single ascending tableau)\n- DrawPile\n- Player.hands (open to all) or shared visible set\n\nVariant rules: players collaboratively place cards in ascending order onto the shared pile; in the open variant all hands are visible so play is deterministic (no hidden state).\n\nResources:\n- BoardGameGeek / publisher summaries: https://boardgamegeek.com/boardgame/179258/mind\n- Wikipedia entry for The Mind: https://en.wikipedia.org/wiki/The_Mind (game-specific pages)\n\nAcceptance criteria:\n- Document open-variant rules, edge-cases (ties/simultaneous plays), and timing heuristics for cooperative play.","effort":"","id":"CG-0MLSDXNMM1R2IMT9","issueType":"feature","needsProducerReview":false,"parentId":null,"priority":"medium","risk":"","sortIndex":800,"stage":"idea","status":"blocked","tags":[],"title":"The Mind (open-hand variant)","updatedAt":"2026-02-18T19:53:47.954Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T18:48:31.170Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSDXY9F1FSGQ38","to":"CG-0MLSDXNMM1R2IMT9"},{"from":"CG-0MLSDXY9F1FSGQ38","to":"CG-0MLSFU7300TLFCBH"}],"description":"Goal: Implement Coloretto focusing on row placement/take actions and per-player color scoring.\n\nWhy: Set-collection scoring with 'take-a-row' mechanic; tableau = sets of colors; simple scoring and clear per-player choices.\n\nCore objects:\n- Rows[] (active rows where cards are placed)\n- Player.collect[] (colors taken)\n- Deck, LastRound trigger\n\nShort rules: draw card -> place onto one of the rows (max 3 cards per row); a player may instead take a row; play continues until last-round card triggers; scoring: choose 3 colors to score positively; others negative (Wikipedia: https://en.wikipedia.org/wiki/Coloretto).\n\nResources:\n- Wikipedia: https://en.wikipedia.org/wiki/Coloretto\n- Publisher and BGG pages for rule PDF and scoring examples\n\nAcceptance criteria:\n- Describe row/take flow, scoring algorithm, and sample scoring scenarios.","effort":"","id":"CG-0MLSDXY9F1FSGQ38","issueType":"feature","needsProducerReview":false,"parentId":null,"priority":"medium","risk":"","sortIndex":900,"stage":"idea","status":"blocked","tags":[],"title":"Coloretto (set-building tableau)","updatedAt":"2026-02-18T19:53:49.001Z"},"type":"workitem"}
{"data":{"assignee":"Map","createdAt":"2026-02-18T19:41:35.196Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"# Scaffold Card Game Engine Project\n\n> **Headline**: Set up the Card Game Spikes repository with Phaser 3.x, TypeScript, Vite, and Vitest as a flat monorepo, unblocking all 7 planned game spikes.\n\n## Problem Statement\n\nThe Card Game Spikes project is a completely greenfield repository with no source code, build tooling, or directory structure. All 7 planned example game spikes (9-Card Golf, Beleaguered Castle, Sushi Go!, Splendor, Lost Cities, The Mind, Coloretto) are blocked until a working project foundation is in place. A properly scaffolded project with build, test, and dev-server tooling is required before any game development can begin.\n\n## Users\n\n- **Game developers (internal)**: Agents and contributors who will implement the example card games and extract reusable engine components.\n  - *As a game developer, I want to run a single command to start a dev server with hot-reload so I can iterate quickly on game code.*\n  - *As a game developer, I want TypeScript configured with strict mode so I catch type errors early.*\n  - *As a game developer, I want a clear directory structure so I know where to put shared engine code vs. game-specific code.*\n- **Engine consumers (future)**: Developers who will reuse extracted engine modules for their own card games.\n  - *As an engine consumer, I want shared modules (core-engine, card-system, rule-engine) organized in a discoverable way so I can import only what I need.*\n\n## Success Criteria\n\n1. Running `npm install && npm run dev` starts a Vite dev server that renders a minimal Phaser 3.x \"hello world\" scene in the browser (a card sprite or text on a colored background).\n2. Running `npm test` executes Vitest and at least one passing unit test completes successfully.\n3. Running `npm run build` produces a production bundle in a `dist/` directory without errors.\n4. The directory structure includes clearly separated areas for shared engine modules (`src/core-engine/`, `src/card-system/`, `src/rule-engine/`, `src/ui/`) and example games (`example-games/`), with each example game having its own entry point and scene(s).\n5. A git repository is initialized with a proper `.gitignore` (covering `node_modules/`, `dist/`, IDE files, OS files) and an initial commit containing the full scaffold.\n\n## Constraints\n\n- **Phaser 3.x (latest stable, currently 3.90.0)**: The AGENTS.md originally specified \"Phaser 4\" but this does not exist as a stable release. Phaser 3.x is the current community standard.\n- **Vite**: Replaces Webpack as specified in AGENTS.md. Vite is officially supported by Phaser's project scaffolder and offers faster dev builds and HMR.\n- **Vitest**: Replaces Jest as specified in AGENTS.md. Vitest integrates natively with Vite, uses the same API as Jest, and avoids ESM/CJS compatibility friction.\n- **TypeScript**: Strict mode, targeting modern browsers (ES2020+).\n- **Flat monorepo**: Single `package.json` at root. Shared engine code in `src/` subdirectories, example games in `example-games/` with their own scenes and entry points. No npm workspaces for now.\n- **Open-source licensing**: All dependencies and assets must be permissively licensed (MIT, Apache 2.0, CC0, etc.) and suitable for commercial use.\n- **AGENTS.md must be updated** to reflect the actual tech stack decisions (Phaser 3.x, Vite, Vitest, flat monorepo structure).\n\n## Existing State\n\n- The repository contains only `AGENTS.md`, `.gitignore` (minimal, Worklog-focused), and `.worklog/` data.\n- No git repository is initialized (no `.git/` directory).\n- No `package.json`, no TypeScript config, no build tooling, no source files, no tests.\n- 7 game spike work items exist in Worklog, all at \"idea\" stage, all blocked pending scaffolding.\n\n## Desired Change\n\nAfter this work item is completed, the repository will contain:\n\n- **Git repository**: Initialized with a proper `.gitignore` and initial commit.\n- **`package.json`**: With Phaser 3.x, TypeScript, Vite, and Vitest as dependencies; scripts for `dev`, `build`, `test`, and `preview`.\n- **`tsconfig.json`**: Strict TypeScript configuration targeting ES2020, with Phaser type definitions.\n- **`vite.config.ts`**: Configured for Phaser 3.x development with dev server and production build.\n- **Directory structure**:\n  ```\n  cardGameSpikes/\n  ├── src/\n  │   ├── core-engine/       # Game loop, state management, rendering helpers\n  │   ├── card-system/       # Card definitions, deck, hand, pile abstractions\n  │   ├── rule-engine/       # Rule definitions, validation, turn logic\n  │   └── ui/                # Reusable UI components (buttons, menus, overlays)\n  ├── example-games/\n  │   └── hello-world/       # Minimal Phaser scene proving toolchain works\n  │       ├── scenes/\n  │       └── main.ts\n  ├── public/                # Static assets (HTML, images, fonts)\n  ├── tests/                 # Vitest test files\n  ├── dist/                  # Production build output (gitignored)\n  ├── AGENTS.md              # Updated with actual tech stack\n  ├── package.json\n  ├── tsconfig.json\n  ├── vite.config.ts\n  └── .gitignore             # Comprehensive Node.js/TS/Vite ignores\n  ```\n- **Hello-world scene**: A minimal Phaser 3.x scene that renders on screen, proving Vite + Phaser + TypeScript integration works end-to-end.\n- **One passing Vitest test**: Demonstrating the test framework is wired up correctly.\n- **Updated AGENTS.md**: Reflecting Phaser 3.x, Vite, Vitest, and the actual directory structure.\n\n## Related Work\n\n- **9-Card Golf (CG-0MLSDW7YM1IWH2SB)** - First game spike, directly unblocked by this scaffolding.\n- **Beleaguered Castle (CG-0MLSDWFLT1WB6IEB)** - Solitaire spike, blocked.\n- **Sushi Go! (CG-0MLSDWSCG154TUEL)** - Drafting game spike, blocked.\n- **Splendor (CG-0MLSDX4B91DG6S1A)** - Engine-building game spike, blocked.\n- **Lost Cities (CG-0MLSDXELC06VESJL)** - 2-player lanes spike, blocked.\n- **The Mind (CG-0MLSDXNMM1R2IMT9)** - Open-hand variant spike, blocked.\n- **Coloretto (CG-0MLSDXY9F1FSGQ38)** - Set-building tableau spike, blocked.\n- **Official Phaser Webpack-TS template** (https://github.com/phaserjs/template-webpack-ts) - Reference for Phaser + TypeScript project structure.\n- **Phaser `create-phaser-game` CLI** - Official scaffolder supporting Vite + TypeScript templates.\n\n## Risks & Assumptions\n\n- **Risk**: Phaser 3.x may not work seamlessly with Vite out of the box (e.g., global `Phaser` variable, canvas/WebGL initialization). *Mitigation*: The official `create-phaser-game` CLI has a Vite template, so this path is well-trodden.\n- **Risk**: The flat monorepo approach may not scale if engine modules need independent versioning later. *Mitigation*: Acceptable for a spike-driven project; migration to workspaces can be done later without major refactoring.\n- **Assumption**: Phaser 3.x TypeScript definitions are up-to-date and compatible with strict mode (they are shipped in the `phaser` npm package under `types/`).\n- **Assumption**: A single Vite entry point can serve multiple example games. If not, a per-game Vite config or multi-page setup may be needed (discoverable during first game spike implementation).\n- **Assumption**: No CI/CD pipeline is needed in this scaffolding phase; local `npm test` and `npm run build` are sufficient validation.\n\n## Suggested Next Step\n\nBreak this epic into child work items for implementation: (1) git init + .gitignore, (2) package.json + Vite + TypeScript config, (3) directory structure + placeholder modules, (4) hello-world Phaser scene, (5) Vitest setup + first test, (6) AGENTS.md update. Then implement starting from work item CG-0MLSFU7300TLFCBH.\n\n## Related work (automated report)\n\nSearched Worklog (keyword: scaffold, setup, phaser, card game) and repository files. No duplicate or prior scaffolding work items found.\n\n- **AGENTS.md** (`/AGENTS.md`): The project charter defining the vision, directory structure, and tech stack for the Card Game Engine. This scaffolding work item directly implements the foundational setup described in AGENTS.md, with agreed deviations (Phaser 3.x instead of 4, Vite instead of Webpack, Vitest instead of Jest).\n- **9-Card Golf (CG-0MLSDW7YM1IWH2SB)**: The first and highest-priority game spike. It is directly unblocked by this scaffolding and will be the first consumer of the project structure, Phaser integration, and test framework established here. Its description references `Phaser Container` which validates the need for a working Phaser setup.\n- **Beleaguered Castle (CG-0MLSDWFLT1WB6IEB)**, **Sushi Go! (CG-0MLSDWSCG154TUEL)**, **Splendor (CG-0MLSDX4B91DG6S1A)**, **Lost Cities (CG-0MLSDXELC06VESJL)**, **The Mind (CG-0MLSDXNMM1R2IMT9)**, **Coloretto (CG-0MLSDXY9F1FSGQ38)**: All 6 remaining game spikes are blocked pending scaffolding. Each references card abstractions (Card, Deck, Pile, Hand, etc.) that will live in the `src/card-system/` module created by this work.\n- **Official Phaser Webpack-TS template** (https://github.com/phaserjs/template-webpack-ts): The community reference implementation for Phaser + TypeScript project structure. While this project uses Vite instead of Webpack, the template's `src/` layout (scenes, game config, main entry point) is a useful structural reference.\n- **Phaser `create-phaser-game` CLI**: The official Phaser scaffolder supports Vite + TypeScript templates and should be consulted during implementation for best-practice Vite configuration patterns.","effort":"","id":"CG-0MLSFU7300TLFCBH","issueType":"epic","needsProducerReview":false,"parentId":null,"priority":"high","risk":"","sortIndex":1000,"stage":"in_review","status":"completed","tags":[],"title":"Scaffold Card Game Engine project","updatedAt":"2026-02-18T20:56:08.467Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T20:04:18.299Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nInitialize the git repository and create a comprehensive .gitignore covering Node.js, TypeScript, Vite, IDE, OS, and build output files.\n\n## User Story\n\nAs a game developer, I want the project under version control with a proper .gitignore so that build artifacts, IDE files, and OS files are never accidentally committed.\n\n## Acceptance Criteria\n\n- `git status` exits with code 0 from the repo root\n- `.gitignore` covers: `node_modules/`, `dist/`, `.vite/`, `*.js.map`, IDE files (`.idea/`, `.vscode/` settings), OS files (`.DS_Store`, `Thumbs.db`)\n- `.worklog/` ignore rules from the original `.gitignore` are preserved exactly\n- Existing files (AGENTS.md, .worklog/) are tracked in the initial commit\n\n## Minimal Implementation\n\n- Run `git init` in the repo root\n- Merge existing `.gitignore` entries with a comprehensive Node.js/TS/Vite .gitignore template\n- Stage all existing files and create the initial commit\n\n## Dependencies\n\nNone (first feature in the sequence)\n\n## Deliverables\n\n- Initialized `.git/` directory\n- Updated `.gitignore`\n- Initial commit","effort":"","id":"CG-0MLSGNEUY15SODX5","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSFU7300TLFCBH","priority":"high","risk":"","sortIndex":100,"stage":"in_review","status":"completed","tags":[],"title":"Initialize Git Repository and .gitignore","updatedAt":"2026-02-18T20:07:52.765Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T20:04:24.758Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSGNJUD0F48DHV","to":"CG-0MLSGNEUY15SODX5"}],"description":"## Summary\n\nCreate the project package.json with all required dependencies and configure Vite + TypeScript for Phaser 3.x development.\n\n## User Story\n\nAs a game developer, I want to run `npm install && npm run dev` to start a dev server with hot-reload so I can iterate quickly on game code. As a game developer, I want TypeScript configured with strict mode so I catch type errors early.\n\n## Acceptance Criteria\n\n- `package.json` exists with Phaser 3.x as a dependency and TypeScript, Vite, Vitest as devDependencies\n- `npm run dev` starts a Vite dev server and exits cleanly on Ctrl+C\n- `npm run build` produces files in `dist/` and exits with code 0\n- `npm run preview` serves the production build on a local port\n- `tsconfig.json` has `strict: true`, targets `ES2020`, and resolves Phaser type definitions\n- `vite.config.ts` is present and used by all three scripts\n\n## Minimal Implementation\n\n- Create `package.json` with scripts: `dev`, `build`, `preview`, `test`\n- Create `tsconfig.json` with strict mode, ES2020 target, module resolution for Vite\n- Create `vite.config.ts` with dev server config and production build output to `dist/`\n- Create `index.html` at root as the single entry point\n- Run `npm install` and verify all scripts work\n\n## Dependencies\n\n- Feature 1: Initialize Git Repository and .gitignore (git must exist for commits)\n\n## Deliverables\n\n- `package.json`\n- `tsconfig.json`\n- `vite.config.ts`\n- `index.html`","effort":"","id":"CG-0MLSGNJUD0F48DHV","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSFU7300TLFCBH","priority":"high","risk":"","sortIndex":200,"stage":"in_review","status":"completed","tags":[],"title":"Package.json, Vite, and TypeScript Config","updatedAt":"2026-02-18T20:11:13.021Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T20:04:31.999Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSGNPFI0ZX35FR","to":"CG-0MLSGNJUD0F48DHV"}],"description":"## Summary\n\nCreate the flat monorepo directory structure with barrel-file placeholders for all shared engine modules and the example-games area.\n\n## User Story\n\nAs a game developer, I want a clear directory structure so I know where to put shared engine code vs. game-specific code. As an engine consumer, I want shared modules organized in a discoverable way so I can import only what I need.\n\n## Acceptance Criteria\n\n- Directories exist: `src/core-engine/`, `src/card-system/`, `src/rule-engine/`, `src/ui/`, `example-games/`, `public/`, `tests/`\n- Each `src/` module has an `index.ts` with at least one named export\n- `npm run build` succeeds with the barrel files included\n- Relative imports between barrel files resolve without TypeScript errors\n\n## Minimal Implementation\n\n- Create directory tree as specified in the PRD\n- Create `src/core-engine/index.ts`, `src/card-system/index.ts`, `src/rule-engine/index.ts`, `src/ui/index.ts` with minimal placeholder exports\n- Verify `npm run build` still succeeds with the new files\n\n## Dependencies\n\n- Feature 2: Package.json, Vite, and TypeScript Config (TypeScript config must exist for barrel files to compile)\n\n## Deliverables\n\n- Directory tree matching the PRD layout\n- 4 barrel-file placeholder modules (`src/core-engine/index.ts`, `src/card-system/index.ts`, `src/rule-engine/index.ts`, `src/ui/index.ts`)","effort":"","id":"CG-0MLSGNPFI0ZX35FR","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSFU7300TLFCBH","priority":"high","risk":"","sortIndex":300,"stage":"in_review","status":"completed","tags":[],"title":"Directory Structure and Placeholder Modules","updatedAt":"2026-02-18T20:12:54.909Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T20:04:48.453Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSGO24L0PVQ8B9","to":"CG-0MLSGNPFI0ZX35FR"}],"description":"## Summary\n\nCreate a minimal Phaser 3.x scene in example-games/hello-world/ that renders a card sprite on a colored background, proving the full Vite + Phaser + TypeScript + asset pipeline works end-to-end.\n\n## User Story\n\nAs a game developer, I want to see a working Phaser scene with a card image rendered in the browser so I know the full toolchain (Vite dev server, TypeScript compilation, Phaser initialization, asset loading) works correctly before I start building real games.\n\n## Acceptance Criteria\n\n- `npm run dev` opens a browser showing a Phaser canvas with a colored background and at least one card sprite\n- The scene class extends `Phaser.Scene` and is located at `example-games/hello-world/scenes/HelloWorldScene.ts`\n- A CC0-licensed card image is loaded from `public/assets/cards/` and rendered\n- No console errors related to asset loading or Phaser initialization appear in browser dev tools\n- Asset attribution/license is documented in a credits file (e.g., `public/assets/CREDITS.md`)\n- `npm run build` includes the scene and assets in the production bundle\n\n## Prototype / Experiment\n\nVerify Phaser 3.x canvas initialization works with Vite dev server (HMR, asset serving). Success = scene renders without console errors.\n\n## Minimal Implementation\n\n- Source a CC0 playing card image set (e.g., from OpenGameArt or similar permissive source)\n- Place card image(s) in `public/assets/cards/`\n- Create `example-games/hello-world/main.ts` as the game entry point\n- Create `example-games/hello-world/scenes/HelloWorldScene.ts` extending `Phaser.Scene`\n- Wire the entry point into `index.html` (single-page setup)\n- Verify dev server renders the scene and production build works\n\n## Dependencies\n\n- Feature 2: Package.json, Vite, and TypeScript Config (build tooling must exist)\n- Feature 3: Directory Structure and Placeholder Modules (directory structure must exist)\n\n## Deliverables\n\n- `example-games/hello-world/main.ts`\n- `example-games/hello-world/scenes/HelloWorldScene.ts`\n- CC0 card assets in `public/assets/cards/`\n- Asset credits file","effort":"","id":"CG-0MLSGO24L0PVQ8B9","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSFU7300TLFCBH","priority":"high","risk":"","sortIndex":400,"stage":"in_review","status":"completed","tags":[],"title":"Hello-World Phaser Scene with Card Sprite","updatedAt":"2026-02-18T20:16:03.954Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T20:04:55.011Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSGO76R0YFSV77","to":"CG-0MLSGNJUD0F48DHV"}],"description":"## Summary\n\nConfigure Vitest and create at least one passing smoke test to prove the test framework is wired up correctly.\n\n## User Story\n\nAs a game developer, I want to run `npm test` and see at least one passing test so I know the test framework is properly configured and ready for game-specific tests.\n\n## Acceptance Criteria\n\n- `npm test` exits with code 0 and reports at least 1 passed test\n- At least one test file exists under `tests/`\n- The test is a trivial smoke test (e.g., `expect(1 + 1).toBe(2)`)\n- Vitest configuration is present (in `vite.config.ts` or separate `vitest.config.ts`)\n\n## Minimal Implementation\n\n- Add Vitest configuration (either inline in `vite.config.ts` or in a separate `vitest.config.ts`)\n- Create `tests/smoke.test.ts` with a trivial assertion\n- Verify `npm test` passes\n\n## Dependencies\n\n- Feature 2: Package.json, Vite, and TypeScript Config (Vitest installed via package.json)\n\n## Deliverables\n\n- Vitest configuration\n- `tests/smoke.test.ts`","effort":"","id":"CG-0MLSGO76R0YFSV77","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSFU7300TLFCBH","priority":"high","risk":"","sortIndex":500,"stage":"in_review","status":"completed","tags":[],"title":"Vitest Setup and Smoke Test","updatedAt":"2026-02-18T20:18:29.578Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T20:05:03.722Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSGODWP0IUDOBG","to":"CG-0MLSGO24L0PVQ8B9"},{"from":"CG-0MLSGODWP0IUDOBG","to":"CG-0MLSGO76R0YFSV77"}],"description":"## Summary\n\nRewrite AGENTS.md to reflect the actual tech stack (Phaser 3.x, Vite, Vitest), the real directory structure, and updated project overview and contribution guidance.\n\n## User Story\n\nAs a game developer or contributor, I want AGENTS.md to accurately describe the project setup, tech stack, and directory structure so I can quickly understand how to work on the project without guessing or discovering outdated information.\n\n## Acceptance Criteria\n\n- Technology stack section references Phaser 3.x, Vite, Vitest (not Phaser 4, Webpack, Jest)\n- Directory structure diagram matches the actual scaffold layout (`src/` with subdirectories, `example-games/`, `public/`, `tests/`, etc.)\n- Project overview describes the flat monorepo approach and spike-driven development philosophy\n- Contribution guidance reflects `npm run dev`, `npm test`, `npm run build` workflow\n- All content between `<!-- Start base Worklog AGENTS.md file -->` and `<!-- End base Worklog AGENTS.md file -->` markers is preserved unchanged\n\n## Minimal Implementation\n\n- Rewrite the technology stack section with Phaser 3.x, Vite, Vitest\n- Update the directory structure diagram to match the actual scaffold layout\n- Revise the project overview and component descriptions\n- Add or update contribution/development workflow guidance\n- Preserve all existing Worklog AGENTS.md content between the markers\n\n## Dependencies\n\n- Features 1-5 (rewrite should reflect the final state of the scaffold)\n\n## Deliverables\n\n- Updated `AGENTS.md`","effort":"","id":"CG-0MLSGODWP0IUDOBG","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSFU7300TLFCBH","priority":"high","risk":"","sortIndex":600,"stage":"in_review","status":"completed","tags":[],"title":"AGENTS.md Comprehensive Rewrite","updatedAt":"2026-02-18T20:21:50.854Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-18T20:34:43.933Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nAdd README.md at repo root and docs/DEVELOPER.md with detailed developer guidance. Update AGENTS.md to reference these docs and enforce a Worklog policy requiring doc updates when infra/tooling changes.\n\n## User Story\n\nAs a game developer or contributor, I want a README and developer guide so I can quickly understand the project, set up my environment, and know the development workflow without reading through AGENTS.md or guessing.\n\n## Acceptance Criteria\n\n- README.md exists at repo root with project summary, quick-start commands, repo layout, and contribution pointers\n- docs/DEVELOPER.md exists with environment setup, run/build/test instructions, example-game guide, and doc-update policy\n- AGENTS.md includes a Documentation section referencing README.md and docs/DEVELOPER.md\n- AGENTS.md includes a policy rule: any change that alters developer workflows MUST include a child work item to update docs\n- npm test and npm run build still pass after changes\n- A Worklog comment on parent epic noting docs were added","effort":"","id":"CG-0MLSHQJIU0097VRY","issueType":"task","needsProducerReview":false,"parentId":"CG-0MLSFU7300TLFCBH","priority":"high","risk":"","sortIndex":700,"stage":"in_review","status":"completed","tags":[],"title":"Add README and Developer Docs","updatedAt":"2026-02-18T20:39:04.030Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T20:34:47.638Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nAdd a pre-commit hook that warns or blocks commits touching config/infra files (package.json, tsconfig.json, vite.config.ts, etc.) when docs/DEVELOPER.md has not been updated in the same commit.\n\n## User Story\n\nAs a developer, I want automated reminders when I change tooling or infrastructure files so I do not forget to update the developer documentation.\n\n## Acceptance Criteria\n\n- A pre-commit hook script exists (e.g. via husky or a shell script in .githooks/)\n- The hook checks if config/infra files are staged and warns if docs/DEVELOPER.md is not also staged\n- The hook does not block commits to non-infra files\n- npm test and npm run build still pass\n- Documentation in docs/DEVELOPER.md describes how the hook works\n\n## Implementation Notes\n\ndiscovered-from:CG-0MLSFU7300TLFCBH","effort":"","id":"CG-0MLSHQMDY1H0I2B7","issueType":"task","needsProducerReview":false,"parentId":null,"priority":"medium","risk":"","sortIndex":1100,"stage":"idea","status":"open","tags":[],"title":"Add pre-commit hook to enforce doc updates","updatedAt":"2026-02-18T20:34:47.638Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-18T21:05:52.718Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nRename all references to the project from 'Card Game Spikes' / 'Card Game Engine' / 'card-game-engine' to 'Tableau Card Engine' (abbreviated TCE) across the entire codebase.\n\n## User Story\n\nAs a developer or contributor, I want the project to have a consistent, distinctive name -- Tableau Card Engine (TCE) -- so the branding is clear and unambiguous across all documentation, code, config, and tests.\n\n## Scope\n\n17 references across 9 files need updating:\n- AGENTS.md: directory tree reference (cardGameSpikes/) and contextual mentions\n- README.md: title, description, directory tree\n- package.json: name field and description\n- index.html: page title\n- docs/DEVELOPER.md: project name in intro\n- tests/smoke.test.ts: string literal in test\n- example-games/hello-world/main.ts: comment header\n- example-games/hello-world/scenes/HelloWorldScene.ts: display text\n- src/ui/index.ts: comment\n\n## Naming Convention\n\n- Full name: Tableau Card Engine\n- Acronym: TCE (used where brevity is appropriate, e.g. npm package name, short references)\n- npm package name: tableau-card-engine\n- Generic references to 'card games' remain unchanged where they describe the genre, not the project\n\n## Acceptance Criteria\n\n- All references to 'Card Game Spikes', 'Card Game Engine', 'card-game-engine', 'cardGameSpikes' are replaced with 'Tableau Card Engine' or 'TCE' as appropriate\n- npm package name changed to 'tableau-card-engine'\n- npm test passes\n- npm run build succeeds\n- No stale name references remain outside .worklog/, node_modules/, dist/, package-lock.json","effort":"","id":"CG-0MLSIULHH0Y6I3DV","issueType":"chore","needsProducerReview":false,"parentId":null,"priority":"medium","risk":"","sortIndex":1200,"stage":"in_review","status":"completed","tags":[],"title":"Rename project to Tableau Card Engine (TCE)","updatedAt":"2026-02-18T21:11:53.981Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-18T23:04:21.826Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSN2YWY1EL17FN","to":"CG-0MLSDW7YM1IWH2SB"}],"description":"## Summary\n\nBuild a framework-level dev tool that reads a JSON game transcript (produced by example games) and replays it in a headless browser (e.g. Playwright), capturing a screenshot at each turn.\n\n## User Story\n\nAs a developer or QA tester, I want to feed a JSON game log into a CLI tool that launches the game in a headless browser, replays each recorded turn, and captures a screenshot per turn so I can visually verify game state without manual play.\n\n## Why\n\nCapturing per-turn screenshots inside a running Phaser game requires additional framework tooling beyond what Phaser provides natively. Rather than coupling screenshot capture into each example game, a dedicated dev tool that works externally via browser automation (Playwright or similar) is cleaner, reusable across all example games, and avoids polluting game code with test infrastructure.\n\n## Expected Behaviour\n\n- Accepts a path to a JSON game transcript file as input.\n- Launches a headless browser pointing at the game's dev server or a static build.\n- Steps through each turn recorded in the transcript, advancing game state accordingly.\n- Captures a PNG screenshot of the Phaser canvas after each turn.\n- Outputs screenshots to a configurable directory, named by turn number (e.g. turn-001.png, turn-002.png).\n- Produces a summary report listing turns, screenshot paths, and any errors.\n\n## Suggested Implementation Approach\n\n- Use Playwright (headless Chromium) for browser automation and screenshot capture.\n- The tool should live under src/core-engine/tools/ or a new top-level tools/ directory (to be decided during planning).\n- Game must expose a mechanism for the tool to advance turns programmatically (e.g. a global function or URL parameter that feeds actions from the transcript).\n- The JSON transcript format produced by the 9-Card Golf spike (CG-0MLSDW7YM1IWH2SB) defines the initial schema.\n\n## Acceptance Criteria\n\n1. A CLI command or npm script can replay a JSON game transcript and produce per-turn PNG screenshots.\n2. The tool works with the 9-Card Golf example game transcript format.\n3. Screenshots accurately reflect the game board state at each turn.\n4. The tool runs in CI-compatible headless mode (no display required).\n5. Documentation in docs/DEVELOPER.md explains how to use the tool.\n\n## Dependencies\n\n- blocked-by:CG-0MLSDW7YM1IWH2SB (requires a working game with JSON transcript output)\n\n## Related\n\n- discovered-from:CG-0MLSDW7YM1IWH2SB","effort":"","id":"CG-0MLSN2YWY1EL17FN","issueType":"feature","needsProducerReview":false,"parentId":null,"priority":"high","risk":"","sortIndex":1300,"stage":"in_review","status":"completed","tags":[],"title":"Game Log Visual Replay Dev Tool","updatedAt":"2026-02-19T02:23:53.866Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T00:11:39.458Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nSource, resize, and integrate a complete 52-card SVG deck from saulspatz/SVGCards (public domain) at 140x190px into the project asset pipeline.\n\n## User Story\n\nAs an engine developer, I want a complete set of 52 card face SVGs at the project's standard dimensions (140x190px) so that any example game can render a full deck visually without placeholder graphics.\n\n## Acceptance Criteria\n\n- 52 individual card face SVGs exist in public/assets/cards/ at 140x190px\n- Existing card back SVG is retained or replaced with one from the same set\n- public/assets/CREDITS.md updated with saulspatz/SVGCards attribution (public domain)\n- SVGs load correctly via this.load.svg() in a Phaser scene (verified in hello-world or golf scene)\n- SVG files contain valid SVG markup (no broken XML)\n- File naming convention is consistent (e.g., 2_of_clubs.svg, king_of_hearts.svg)\n\n## Minimal Implementation\n\n- Download saulspatz/SVGCards Vertical2 deck (https://github.com/saulspatz/SVGCards)\n- Extract individual SVGs using the provided exportSVG.py script or manually from the Decks/Vertical2/svgs folder\n- Resize from 210x315px to 140x190px (same 2:3 aspect ratio) via script or batch tool\n- Adopt consistent naming convention matching existing assets\n- Update public/assets/CREDITS.md with attribution\n\n## Prototype / Experiment\n\nVerify saulspatz/SVGCards export produces usable individual SVGs and that Phaser loads them at 140x190px without rendering artifacts. Success = at least 4 cards (one per suit) render correctly in the hello-world scene.\n\n## Dependencies\n\nNone (can be worked in parallel with Features 2 and 3)\n\n## Deliverables\n\n- 52 SVG card face files in public/assets/cards/\n- Updated public/assets/CREDITS.md","effort":"","id":"CG-0MLSPHIDD19PBDOZ","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSDW7YM1IWH2SB","priority":"high","risk":"","sortIndex":100,"stage":"in_progress","status":"completed","tags":[],"title":"Card Asset Pipeline","updatedAt":"2026-02-19T01:46:55.409Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T00:11:47.939Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nImplement Card, Deck, and Pile abstractions in src/card-system/ as the foundational data models consumed by all game spikes.\n\n## User Story\n\nAs an engine developer, I want Card, Deck, and Pile types with well-defined APIs so that every example game can import and use standard card data structures without reimplementing them.\n\n## Acceptance Criteria\n\n- Card type exported with rank, suit, faceUp properties\n- Deck exported with create() (standard 52-card), shuffle(), draw() methods\n- Pile exported with push(), pop(), peek(), isEmpty(), size() methods\n- Drawing from an empty deck has defined behavior (throws or returns null/undefined)\n- Unit tests cover: deck creation (52 cards, no duplicates), shuffle (changes order), draw (removes from top), pile operations\n- npm test passes; npm run build succeeds\n- Barrel file src/card-system/index.ts exports all public types and functions\n\n## Minimal Implementation\n\n- Define Rank (enum or union: A, 2-10, J, Q, K), Suit (enum or union: clubs, diamonds, hearts, spades), Card (interface with rank, suit, faceUp)\n- Implement Deck as a factory + operations on Card arrays\n- Implement Pile as a stack abstraction over Card arrays\n- Write unit tests in tests/card-system/\n\n## Dependencies\n\nNone (can be worked in parallel with Features 1 and 3)\n\n## Deliverables\n\n- src/card-system/ implementation (Card, Deck, Pile)\n- Unit tests in tests/card-system/","effort":"","id":"CG-0MLSPHOWY1HSCIDX","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSDW7YM1IWH2SB","priority":"high","risk":"","sortIndex":200,"stage":"in_progress","status":"completed","tags":[],"title":"Card System Engine Module","updatedAt":"2026-02-19T00:21:16.134Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T00:11:54.577Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nImplement minimal turn sequencing and game state management in src/core-engine/ sufficient to drive a 2-player (human + AI) game loop.\n\n## User Story\n\nAs an engine developer, I want a reusable turn sequencer and game state container so that any 2+ player game can manage turn order, game phases, and player state transitions without reimplementing this logic.\n\n## Acceptance Criteria\n\n- GameState type tracks current player, game phase (setup, playing, ended), and per-player state\n- TurnSequencer manages player turn order and advancing turns\n- Advancing turn when game phase is ended has defined behavior (throws or is a no-op)\n- State transitions are explicit (immutable approach or clearly defined mutations)\n- Unit tests cover: turn advancement, game phase transitions, 2-player turn alternation\n- npm test passes; npm run build succeeds\n- Barrel file src/core-engine/index.ts exports all public types and functions\n\n## Minimal Implementation\n\n- Define GamePhase enum (setup, playing, ended)\n- Define GameState<T> generic container (player states array, current player index, phase)\n- Implement TurnSequencer (advanceTurn, getCurrentPlayer, isGameOver)\n- Write unit tests in tests/core-engine/\n\n## Dependencies\n\nNone (can be worked in parallel with Features 1 and 2)\n\n## Deliverables\n\n- src/core-engine/ implementation (GameState, TurnSequencer, GamePhase)\n- Unit tests in tests/core-engine/","effort":"","id":"CG-0MLSPHU1C02RAGE0","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSDW7YM1IWH2SB","priority":"high","risk":"","sortIndex":300,"stage":"in_progress","status":"completed","tags":[],"title":"Core Engine Turn Sequencer","updatedAt":"2026-02-19T00:33:37.860Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T00:12:15.219Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSPI9YQ083H8LO","to":"CG-0MLSPHOWY1HSCIDX"}],"description":"## Summary\n\nImplement 9-Card Golf-specific game rules, turn legality validation, scoring logic, and the 3x3 Grid type locally in example-games/golf/.\n\n## User Story\n\nAs a player of 9-Card Golf, I want the game to correctly enforce turn rules (draw from stock or discard, then swap or discard) and calculate scores (A=1, 2=-2, 3-10=face, J/Q=10, K=0, column-of-three=0) so that every game is played and scored correctly.\n\n## Acceptance Criteria\n\n- GolfGrid type represents a 3x3 arrangement of Cards (some face-up, some face-down)\n- Scoring correctly implements: A=1, 2=-2, 3-10=face value, J/Q=10, K=0, column-of-three-of-a-kind=0\n- Turn legality: player can draw from stock or discard pile; then must swap drawn card with a grid card (flipping it face-up) or discard the drawn card\n- End-of-round detection: round ends when any player has all 9 cards face-up; each other player gets one final turn\n- Attempting to swap a card at an invalid grid position (out of bounds) is rejected as illegal\n- Initial card reveal: player flips 3 cards at the start of the round\n- At least 3 scoring unit tests (including column-of-three-of-a-kind case)\n- At least 2 turn legality tests (valid and invalid moves)\n- npm test passes; npm run build succeeds\n\n## Minimal Implementation\n\n- Define GolfGrid type (3x3 array of Card slots) in example-games/golf/\n- Implement scoreGrid() function with column-matching logic\n- Implement GolfRules module: isLegalMove(), applyMove(), isRoundOver()\n- Implement initial card reveal logic (player selects 3 cards to flip)\n- Write unit tests in tests/golf/\n\n## Dependencies\n\n- Card System Engine Module (CG-0MLSPHOWY1HSCIDX) — requires Card type\n\n## Deliverables\n\n- Golf rules module in example-games/golf/\n- Scoring logic with scoreGrid()\n- GolfGrid type\n- Unit tests in tests/golf/","effort":"","id":"CG-0MLSPI9YQ083H8LO","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSDW7YM1IWH2SB","priority":"high","risk":"","sortIndex":400,"stage":"in_progress","status":"completed","tags":[],"title":"Golf Game Rules and Scoring","updatedAt":"2026-02-19T01:41:01.250Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T00:12:23.963Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSPIGPM0HRCCYE","to":"CG-0MLSPHU1C02RAGE0"},{"from":"CG-0MLSPIGPM0HRCCYE","to":"CG-0MLSPI9YQ083H8LO"}],"description":"## Summary\n\nImplement an AI player with two selectable strategies (random and greedy) that can play complete games of 9-Card Golf.\n\n## User Story\n\nAs a tester, I want an AI opponent that can play complete games automatically using either random or greedy strategies so I can validate scoring, turn flow, and edge cases without manual play.\n\n## Acceptance Criteria\n\n- AiPlayer interface defines chooseAction(gameState): Action\n- RandomStrategy selects a uniformly random legal move each turn\n- GreedyStrategy selects the move that minimizes visible score (considering face-up cards only)\n- Strategy is selectable via constructor parameter or configuration\n- Both strategies produce legal moves in all tested game states, including edge cases (only one legal move available, all cards face-up)\n- At least one test runs a complete game with each strategy to completion without errors\n- npm test passes; npm run build succeeds\n\n## Minimal Implementation\n\n- Define AiStrategy interface with chooseAction method\n- Implement RandomStrategy: enumerate legal moves via GolfRules, pick one randomly\n- Implement GreedyStrategy: enumerate legal moves, evaluate each by resulting visible score, pick lowest\n- Implement AiPlayer wrapper that delegates to a selected strategy\n- Write unit tests in tests/golf/\n\n## Dependencies\n\n- Core Engine Turn Sequencer (CG-0MLSPHU1C02RAGE0) — requires GameState and turn management\n- Golf Game Rules and Scoring (Feature 4) — requires GolfRules for legal move enumeration\n\n## Deliverables\n\n- AI player module in example-games/golf/\n- RandomStrategy and GreedyStrategy implementations\n- Unit tests in tests/golf/","effort":"","id":"CG-0MLSPIGPM0HRCCYE","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSDW7YM1IWH2SB","priority":"high","risk":"","sortIndex":500,"stage":"in_progress","status":"completed","tags":[],"title":"AI Player","updatedAt":"2026-02-19T01:54:00.953Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T00:12:36.065Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSPIQ1516DJNQL","to":"CG-0MLSPHU1C02RAGE0"},{"from":"CG-0MLSPIQ1516DJNQL","to":"CG-0MLSPI9YQ083H8LO"}],"description":"## Summary\n\nImplement replay-ready JSON transcript recording that captures full board state per turn, sufficient for the Visual Replay Dev Tool (CG-0MLSN2YWY1EL17FN).\n\n## User Story\n\nAs a tester, I want each completed game to produce a JSON transcript capturing all turns, actions, and board states so I can replay games for debugging and regression testing.\n\n## Acceptance Criteria\n\n- Each completed game produces a JSON transcript file\n- Transcript includes: game metadata (timestamp, players, strategies), initial deal state, per-turn records (player, action, resulting board state for both players, pile states, scores)\n- Transcript includes final scores and winner\n- Transcript format is documented as TypeScript interfaces (GameTranscript, TurnRecord, BoardSnapshot)\n- Transcript JSON is valid per the documented TypeScript interfaces (verified by parsing and type-checking in tests)\n- A completed AI-vs-AI game produces a valid, parseable transcript\n- Most recent 10 replays stored in example-games/golf/replays/ per AGENTS.md policy\n- npm test passes; npm run build succeeds\n\n## Minimal Implementation\n\n- Define GameTranscript, TurnRecord, BoardSnapshot TypeScript interfaces in example-games/golf/\n- Implement TranscriptRecorder that hooks into the game loop and records each turn\n- Serialize to JSON and write to example-games/golf/replays/\n- Implement replay file rotation (keep most recent 10)\n- Write schema validation test\n\n## Dependencies\n\n- Core Engine Turn Sequencer (CG-0MLSPHU1C02RAGE0) — requires GameState for board snapshots\n- Golf Game Rules and Scoring (Feature 4) — requires GolfGrid and scoring for state capture\n\n## Related Work\n\n- Game Log Visual Replay Dev Tool (CG-0MLSN2YWY1EL17FN) — will consume this transcript format\n\n## Deliverables\n\n- Transcript TypeScript interfaces\n- TranscriptRecorder implementation\n- Schema documentation\n- Unit tests in tests/golf/","effort":"","id":"CG-0MLSPIQ1516DJNQL","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSDW7YM1IWH2SB","priority":"high","risk":"","sortIndex":600,"stage":"in_progress","status":"completed","tags":[],"title":"Game Transcript Recording","updatedAt":"2026-02-19T01:57:12.798Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T00:13:01.161Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSPJ9EW1WGHKLX","to":"CG-0MLSPHIDD19PBDOZ"},{"from":"CG-0MLSPJ9EW1WGHKLX","to":"CG-0MLSPHOWY1HSCIDX"},{"from":"CG-0MLSPJ9EW1WGHKLX","to":"CG-0MLSPHU1C02RAGE0"},{"from":"CG-0MLSPJ9EW1WGHKLX","to":"CG-0MLSPI9YQ083H8LO"},{"from":"CG-0MLSPJ9EW1WGHKLX","to":"CG-0MLSPIGPM0HRCCYE"},{"from":"CG-0MLSPJ9EW1WGHKLX","to":"CG-0MLSPIQ1516DJNQL"}],"description":"## Summary\n\nBuild a single GolfScene Phaser scene implementing the complete visual interface for 9-Card Golf: 3x3 grid layout, draw/discard piles, card flip/swap animations, score display, and turn indicators.\n\n## User Story\n\nAs a player, I want to play a complete round of 9-Card Golf in my browser — seeing my 3x3 grid, drawing and swapping cards with smooth animations, and viewing scores — so I can experience the full game visually.\n\n## Acceptance Criteria\n\n- GolfScene renders both players' 3x3 grids, a draw pile, and a discard pile\n- Human player interacts via click/tap: draw from pile or discard, select grid card to swap, or discard drawn card\n- Card flip and swap animations use Phaser tweens\n- Current player and turn phase are visually indicated\n- Score display updates after each turn\n- End-of-round screen shows final scores and winner\n- AI strategy is selectable (e.g., buttons at game start or config)\n- No unhandled JavaScript errors appear in browser console during a complete game\n- Game is playable from start to finish via npm run dev\n\n## Minimal Implementation\n\n- Create example-games/golf/scenes/GolfScene.ts extending Phaser.Scene\n- Create example-games/golf/main.ts entry point with Phaser game config\n- Implement card layout using grid math (3 columns x 3 rows per player)\n- Implement input handling for draw, swap, discard actions\n- Add tween animations for card flip (scale X 0 to 1 with texture swap at midpoint) and swap (translate)\n- Wire up AI player to play automatically on its turn (with configurable delay for visual effect)\n- Wire up TranscriptRecorder to record each turn\n- Update index.html or add routing for the golf game\n\n## Prototype / Experiment\n\nVerify Phaser tweens produce acceptable card-flip animation (scale X 0 to 1 with texture swap at midpoint). Success = flip animation looks natural at 60fps in dev server.\n\n## Dependencies\n\n- Card Asset Pipeline (CG-0MLSPHIDD19PBDOZ) — requires card SVGs for rendering\n- Card System Engine Module (CG-0MLSPHOWY1HSCIDX) — requires Card/Deck/Pile types\n- Core Engine Turn Sequencer (CG-0MLSPHU1C02RAGE0) — requires GameState and turn management\n- Golf Game Rules and Scoring (CG-0MLSPI9YQ083H8LO) — requires GolfGrid, scoring, turn logic\n- AI Player (CG-0MLSPIGPM0HRCCYE) — requires AI opponent\n- Game Transcript Recording (CG-0MLSPIQ1516DJNQL) — requires TranscriptRecorder\n\n## Open Questions\n\n- Consider breaking into sub-tasks during implementation planning (large but atomically valuable)\n\n## Deliverables\n\n- example-games/golf/scenes/GolfScene.ts\n- example-games/golf/main.ts\n- Playable game in browser","effort":"","id":"CG-0MLSPJ9EW1WGHKLX","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSDW7YM1IWH2SB","priority":"high","risk":"","sortIndex":700,"stage":"in_progress","status":"completed","tags":[],"title":"Golf Phaser UI","updatedAt":"2026-02-19T02:03:52.327Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T00:13:09.574Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLSPJFWL14OQNJ5","to":"CG-0MLSPJ9EW1WGHKLX"}],"description":"## Summary\n\nAdd end-to-end integration tests that run complete AI-vs-AI games and verify all quality gates, plus update project documentation to include the Golf game.\n\n## User Story\n\nAs an engine developer, I want integration tests that prove a complete game works end-to-end (rules, scoring, AI, transcript) and documentation that tells future contributors how to run and extend the Golf game.\n\n## Acceptance Criteria\n\n- Integration test runs a full AI-vs-AI game (random strategy) and verifies: game completes, valid transcript is produced, final scores are calculated correctly\n- Integration test runs a full AI-vs-AI game (greedy strategy) and verifies the same\n- npm test passes all tests (unit + integration)\n- npm run build succeeds\n- docs/DEVELOPER.md updated with Golf game entry in example games section\n- README.md updated with Golf in the example games table\n- No regressions in existing hello-world example or smoke tests\n\n## Minimal Implementation\n\n- Write integration tests in tests/golf/ that instantiate game state, run game loop with AI players, assert completion\n- Verify transcript output programmatically (parse JSON, check required fields)\n- Update docs/DEVELOPER.md with Golf game entry\n- Update README.md example games table\n\n## Dependencies\n\n- All previous features (1-7) must be complete\n\n## Deliverables\n\n- Integration tests in tests/golf/\n- Updated README.md\n- Updated docs/DEVELOPER.md","effort":"","id":"CG-0MLSPJFWL14OQNJ5","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSDW7YM1IWH2SB","priority":"high","risk":"","sortIndex":800,"stage":"in_progress","status":"completed","tags":[],"title":"Integration Test and Documentation","updatedAt":"2026-02-19T02:10:00.696Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T02:33:10.876Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nAdd Vitest browser mode testing with Playwright to enable automated testing of the Phaser-rendered Golf UI in a real browser environment. This addresses the broken UI that currently has no automated test coverage.\n\n## User Story\n\nAs an engine developer, I want automated browser tests that verify the Phaser game renders correctly and responds to user interactions, so that UI regressions are caught before they reach players.\n\n## Problem\n\nThe Golf Phaser UI (GolfScene.ts) has 674 lines of rendering and interaction code with zero automated test coverage. The UI is reported broken but there is no way to detect or prevent regressions. Phaser requires a real browser (WebGL/Canvas) and cannot run in JSDOM or happy-dom.\n\n## Approach\n\n- Use Vitest 3.x browser mode with `@vitest/browser` package and Playwright provider\n- Configure test projects in vite.config.ts to run Node-based unit tests (`*.test.ts`) and browser-based tests (`*.browser.test.ts`) together via `npm test`\n- Browser tests run in headless Chromium via Playwright\n- Tests verify: canvas renders, game objects exist, basic interaction works\n- Access Phaser game instance via `window.__PHASER_GAME__` for state assertions\n\n## Acceptance Criteria\n\n1. `@vitest/browser` and `playwright` are installed as dev dependencies\n2. `vite.config.ts` uses `test.projects` to define both unit and browser test configurations\n3. Browser tests use `*.browser.test.ts` naming convention\n4. At least one browser test verifies the Phaser canvas renders in the game container\n5. At least one browser test verifies initial game state is visible (card sprites, UI text)\n6. All existing 204 unit tests continue to pass alongside new browser tests\n7. `npm test` runs both unit and browser tests in a single command\n8. `npm run build` continues to succeed\n9. Tests run headless (no visible browser window) for CI compatibility\n10. docs/DEVELOPER.md updated with browser testing section\n\n## Dependencies\n\n- All 8 Golf epic features (complete)\n- Vitest 3.2.4 (installed)\n\n## Related Work\n\n- discovered-from:CG-0MLSDW7YM1IWH2SB (Golf epic)\n- related-to:CG-0MLSPJ9EW1WGHKLX (Golf Phaser UI)\n- related-to:CG-0MLSN2YWY1EL17FN (Visual Replay Dev Tool)","effort":"","id":"CG-0MLSUJIE30K54IUO","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLSDW7YM1IWH2SB","priority":"high","risk":"","sortIndex":900,"stage":"in_progress","status":"completed","tags":[],"title":"Phaser UI Browser Testing with Vitest","updatedAt":"2026-02-19T02:51:11.616Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T03:20:51.395Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nThe Golf Phaser UI is reported broken. Browser tests confirm the game boots and renders correctly (canvas, sprites, text, interactive elements, no console errors), so the issue is likely in game interaction logic — click handling, turn flow, AI execution, or state transitions.\n\n## User Story\n\nAs a player, I want the Golf game UI to respond correctly to my clicks (drawing cards, swapping, discarding) and execute AI turns properly, so I can play a complete round of 9-Card Golf.\n\n## Approach\n\n1. Review GolfScene.ts interaction code for logic errors\n2. Add interaction-level browser tests (click stock pile, click discard, click grid cards, AI turn execution)\n3. Identify and fix the broken behavior\n4. Ensure all tests pass after fixes\n\n## Acceptance Criteria\n\n1. Player can click stock pile to draw a card\n2. After drawing, player can click a grid card to swap or click discard to discard\n3. AI turn executes after player turn completes\n4. Turn indicator updates correctly between turns\n5. Game reaches end-of-round and displays final scores\n6. All existing 210 tests continue to pass\n7. New browser tests cover the interaction flow\n8. npm run build succeeds\n\n## Related Work\n\n- discovered-from:CG-0MLSDW7YM1IWH2SB\n- related-to:CG-0MLSPJ9EW1WGHKLX (Golf Phaser UI)\n- related-to:CG-0MLSUJIE30K54IUO (Browser Testing)","effort":"","id":"CG-0MLSW8TKZ0YHXJR2","issueType":"bug","needsProducerReview":false,"parentId":"CG-0MLSDW7YM1IWH2SB","priority":"high","risk":"","sortIndex":1000,"stage":"in_progress","status":"completed","tags":[],"title":"Investigate and fix broken Golf UI interactions","updatedAt":"2026-02-19T04:07:13.430Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T05:25:53.184Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"# Intake Brief: Help Screen with Game Rules and Instructions (CG-0MLT0PM000TQRIXT)\n\n**Priority: Medium** | **Type: Feature** | **Assignee: Map**\n\n> Add a reusable left-side help panel to the engine's UI module (`src/ui/`) that accepts an array of `{ heading, body }` content sections from each game, and integrate it into the 9-Card Golf example with rules overview, turn flow, scoring, and how-to-play instructions.\n\n## Problem Statement\n\nPlayers of Tableau Card Engine games currently have no way to learn the rules or how to play within the game itself. Rules exist only as code comments and developer documentation. A reusable, engine-level help panel is needed so that each game can surface its own rules and instructions to players without building custom UI from scratch.\n\n## Users\n\n- **Player (primary):** Wants to quickly reference the rules and how-to-play instructions without leaving the game.\n  - *\"As a player, I want to press a help button or keyboard shortcut to see the game's rules and instructions in a side panel so I can learn how to play or refresh my memory mid-game.\"*\n\n- **Game developer (secondary):** Wants a ready-made, configurable help panel component they can populate with game-specific content.\n  - *\"As a game developer, I want to pass an array of content sections (heading + body) to a reusable help panel component so that I don't have to build help screen UI from scratch for each new game.\"*\n\n## Success Criteria\n\n1. **Reusable engine component:** A `HelpPanel` (or equivalent) class exists in `src/ui/` that accepts an array of `{ heading: string, body: string }` sections and renders them in a left-side slide-in panel.\n2. **Trigger mechanisms:** The help panel can be opened via an on-screen help button (e.g. \"?\" icon) and a keyboard shortcut (e.g. H or ?), and dismissed via a close button, the same keyboard shortcut, or clicking outside the panel.\n3. **Scrollable content:** If the rules content exceeds the panel height, the panel supports vertical scrolling with a visible scroll indicator.\n4. **Percentage-based width:** The panel width is responsive, taking a percentage of the game canvas (e.g. 30-40%) rather than a fixed pixel width.\n5. **Golf integration:** The 9-Card Golf example game integrates the help panel with sections covering rules overview, turn flow, scoring, and basic how-to-play instructions. The help panel is accessible during gameplay without pausing the game.\n\n## Constraints\n\n- **No game pausing:** The game continues running while the help panel is open. Game input behind the panel may be blocked (to prevent accidental clicks) but AI turns and animations are not frozen.\n- **Engine-level component:** The `HelpPanel` must live in `src/ui/` and be importable via the `@ui/*` path alias. Game-specific content must not be hard-coded in the engine component.\n- **Golf only (initial scope):** Only the 9-Card Golf game needs to integrate the help panel in this work item. Other games will adopt it later.\n- **Content is not interactive:** The help panel displays static text sections. Interactive tutorials, animated demos, or step-by-step walkthroughs are out of scope.\n- **Phaser 3.90.0 compatibility:** The component must work with the current Phaser version and use Phaser's built-in text rendering and input systems (no DOM overlays or external UI libraries).\n- **Quality gates:** `npm test` and `npm run build` must pass after implementation.\n\n## Existing State\n\n- **`src/ui/` module:** Empty stub exporting only `UI_VERSION = '0.1.0'`. No reusable UI components exist.\n- **End-screen overlay in GolfScene (lines 618-674):** The only overlay-like pattern in the codebase -- a semi-transparent rectangle with text and an interactive button. Hard-coded in the scene, not extracted. This serves as a reference for how overlays can be built in Phaser.\n- **Instruction text in GolfScene:** A single-line contextual instruction text at the bottom of the screen that changes per turn phase. Not a help screen.\n- **Rules in code only:** `GolfRules.ts` and `GolfScoring.ts` contain complete rules as JSDoc comments and imperative code, but no player-facing text or data structure exists for rules content.\n- **No keyboard shortcut handling:** The Golf game uses only mouse/pointer input. No keyboard shortcuts are implemented.\n\n## Desired Change\n\n- **New engine component (`src/ui/HelpPanel.ts` or similar):**\n  - Accepts a configuration object with an array of `{ heading: string, body: string }` content sections.\n  - Renders a left-side panel that slides in/out with an animation.\n  - Panel width is percentage-based (e.g. 30-40% of canvas width).\n  - Includes a close button (e.g. \"X\" in the top-right corner of the panel).\n  - Supports vertical scrolling with a scroll indicator when content overflows.\n  - Provides a semi-transparent backdrop behind the panel (optional, to dim the game).\n\n- **Help button (`src/ui/HelpButton.ts` or similar):**\n  - A small on-screen button (e.g. \"?\" icon) that can be placed in a game scene to toggle the help panel.\n  - Reusable across games.\n\n- **Keyboard shortcut support:**\n  - The help panel listens for a configurable keyboard shortcut (default: H or ?) to toggle open/close.\n  - Clicking outside the panel also dismisses it.\n\n- **Golf game integration (`example-games/golf/`):**\n  - Define rules content as an array of sections (e.g. Overview, Turn Flow, Scoring, Tips).\n  - Add the help button to the GolfScene.\n  - Wire up the keyboard shortcut.\n\n- **Tests:**\n  - Unit tests for the HelpPanel component (content rendering, open/close state).\n  - Integration verification that the Golf game's help content loads correctly.\n\n- **Barrel exports:** Update `src/ui/index.ts` to export `HelpPanel`, `HelpButton`, and related types.\n\n## Risks & Assumptions\n\n### Risks\n- **Phaser text scrolling limitations:** Phaser 3 does not have a native scrollable text container. Implementing smooth scrolling with a scroll indicator may require a masked container with drag/wheel input, adding complexity. Mitigation: research Phaser community patterns for scrollable panels before implementation; consider a crop-mask approach with pointer-drag and mouse-wheel listeners.\n- **Input blocking complexity:** Blocking game input behind the panel while keeping the game running (AI turns, animations) may require careful Phaser input priority management. Mitigation: use Phaser's input hit area and depth sorting; test with active AI turns.\n- **First `src/ui/` component sets precedent:** This is the first real component in the engine's UI module. Design decisions (API patterns, naming conventions, configuration approach) will influence all future UI components. Mitigation: keep the API surface minimal and well-documented; review before merging.\n- **Content authoring effort underestimated:** Writing clear, concise player-facing rules text for Golf is a distinct task from building the UI component. Poor rules text undermines the feature even if the component works perfectly. Mitigation: draft rules content early and review for clarity before final integration.\n\n### Assumptions\n- Phaser 3.90.0's mask and input systems are sufficient for implementing a scrollable side panel without external libraries.\n- A single keyboard shortcut (H key) is sufficient; no conflict with existing game input is expected since Golf currently uses only pointer input.\n- Game-specific content will be plain text only (no rich formatting, images, or HTML). Markdown or styled text can be considered in future iterations.\n- The panel does not need to persist state (e.g. scroll position) across open/close cycles.\n\n## Related Work\n\n- **9-Card Golf (CG-0MLSDW7YM1IWH2SB)** [completed]: The parent spike. The Golf game is the first integration target for this help screen feature.\n- **Golf Phaser UI (CG-0MLSPJ9EW1WGHKLX)** [completed]: Established the Phaser scene patterns (overlays, text rendering, input handling) used in GolfScene. The help panel should follow similar patterns.\n- **Beleaguered Castle (CG-0MLSDWFLT1WB6IEB)** [open]: Future game spike that will benefit from the reusable help panel.\n- **Future game spikes** (Sushi Go!, Splendor, Lost Cities, The Mind, Coloretto): All will consume the help panel component once built.\n- **`src/ui/index.ts`**: Stub module that will be populated by this work item.\n- **`example-games/golf/scenes/GolfScene.ts`**: Scene that will integrate the help panel.\n- **`example-games/golf/GolfRules.ts`**, **`GolfScoring.ts`**: Source material for the Golf game's help content sections.\n\n## Related work (automated report)\n\nSearched Worklog (keywords: help, panel, UI, overlay, scroll, button, keyboard, rules, instructions, Golf) and repository files. Conservative filtering applied -- only items with clear relevance to the help panel feature are included.\n\n### Worklog items\n\n- **Golf Phaser UI (CG-0MLSPJ9EW1WGHKLX)** [completed]: The most directly relevant prior work. GolfScene.ts (lines 618-674) contains the only overlay pattern in the codebase -- a semi-transparent rectangle with text and an interactive button for the end-of-round screen. This serves as the primary reference implementation for how to build overlay/panel UI in Phaser within this project, including depth management, text rendering, and interactive button patterns.\n\n- **Golf Game Rules and Scoring (CG-0MLSPI9YQ083H8LO)** [completed]: Implemented the game rules (GolfRules.ts) and scoring logic (GolfScoring.ts) that contain the authoritative rule definitions as JSDoc comments and code. These files are the source material from which player-facing help content sections (rules overview, turn flow, scoring) must be derived. No player-facing text data structure exists yet -- this work item must create one.\n\n- **Investigate and fix broken Golf UI interactions (CG-0MLSW8TKZ0YHXJR2)** [completed]: Fixed interaction handling in GolfScene (click handling, turn flow, AI execution, state transitions). Understanding these fixes is relevant because the help panel must coexist with the game's input handling -- blocking game clicks behind the panel while keeping AI turns and animations running requires awareness of the current input architecture.\n\n- **Phaser UI Browser Testing with Vitest (CG-0MLSUJIE30K54IUO)** [completed]: Established browser-mode testing infrastructure using Vitest + Playwright. The help panel's unit and integration tests should follow the same patterns (*.browser.test.ts convention, window.__PHASER_GAME__ access for state assertions) to verify rendering and interaction in a real browser.\n\n- **Beleaguered Castle (CG-0MLSDWFLT1WB6IEB)** [open, idea stage]: The next planned game spike. Will be the second consumer of the reusable HelpPanel component, validating that the API is truly game-agnostic. The help panel's content section interface ({ heading, body }) should be validated against this game's anticipated content needs.\n\n- **Scaffold Card Game Engine project (CG-0MLSFU7300TLFCBH)** [completed]: Established the src/ui/ module stub and the @ui/* path alias. The HelpPanel and HelpButton components must be exported from src/ui/index.ts and importable via @ui/* per the project conventions set by this work item.\n\n### Repository files\n\n- **`src/ui/index.ts`**: Currently an empty stub exporting only `UI_VERSION = '0.1.0'`. This is where HelpPanel, HelpButton, and related types must be exported. As the first real component added to this module, the API design here sets a precedent for all future UI components.\n\n- **`example-games/golf/scenes/GolfScene.ts`** (676 lines): The integration target scene. The end-screen overlay (lines 618-674) demonstrates the overlay pattern (semi-transparent background rectangle, centered text, interactive button with hover states, depth management). The help panel implementation should follow this pattern but extract it into a reusable, configurable component rather than hard-coding it in the scene.\n\n- **`example-games/golf/GolfRules.ts`**: Contains complete turn flow rules as JSDoc (draw from stock/discard, swap or discard+flip, round ending detection, initial reveal). The help content's \"Turn Flow\" and \"How to Play\" sections should be derived from these documented rules.\n\n- **`example-games/golf/GolfScoring.ts`**: Contains scoring rules as JSDoc (A=1, 2=-2, 3-10=face, J/Q=10, K=0, column-of-three=0). The help content's \"Scoring\" section should be derived from this documented logic.\n\n- **`example-games/golf/GolfGrid.ts`**: Defines the 3x3 grid model (GRID_ROWS=3, GRID_COLS=3) used by the game. Relevant context for writing the help content's rules overview section explaining the grid layout.","effort":"","id":"CG-0MLT0PM000TQRIXT","issueType":"feature","needsProducerReview":false,"parentId":null,"priority":"medium","risk":"","sortIndex":1400,"stage":"in_progress","status":"in-progress","tags":[],"title":"Help Screen with Game Rules and Instructions","updatedAt":"2026-02-19T10:55:55.525Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T10:04:17.301Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nBuild the `HelpPanel` class in `src/ui/` that renders a left-side panel with heading/body content sections, open/close state, and percentage-based width. This is the first real component in the engine's UI module and sets the API precedent for all future UI components.\n\n## User Story\n\nAs a game developer, I want a reusable `HelpPanel` component that accepts an array of content sections and renders them in a configurable side panel, so I don't have to build help screen UI from scratch for each new game.\n\n## Acceptance Criteria\n\n- `HelpPanel` class exists in `src/ui/HelpPanel.ts` and is exported from `src/ui/index.ts`\n- Constructing a HelpPanel with a sections array renders one heading and one body text block per section\n- Constructor accepts a Phaser Scene and a config object: `{ sections: Array<{ heading: string, body: string }>, widthPercent?: number }`\n- Panel renders as a solid background rectangle at 35% of canvas width (configurable via `widthPercent`), full height, anchored to the left edge\n- Each section renders a heading (larger font) followed by body text, stacked vertically with spacing\n- Panel has `open()` and `close()` methods, and an `isOpen` readonly property\n- Panel starts hidden (closed state)\n- Constructing a HelpPanel with an empty sections array renders the panel background with no text content (no error thrown)\n- Calling `destroy()` on the HelpPanel removes all game objects from the scene (no orphaned objects)\n- Unit tests verify content rendering, open/close state transitions, empty sections, and destroy cleanup\n- `npm test` passes; `npm run build` succeeds\n\n## Minimal Implementation\n\n- Create `src/ui/HelpPanel.ts` with a Phaser Container holding a background rectangle and text objects\n- Use Phaser `Text` game objects for headings (larger fontSize) and body (smaller fontSize)\n- Calculate panel width as percentage of `scene.scale.width`\n- Implement `open()`, `close()`, `isOpen`, and `destroy()` methods\n- Export `HelpPanel` class and `HelpPanelConfig` type from `src/ui/index.ts`\n- Write unit tests in `tests/ui/`\n\n## Dependencies\n\nNone (root feature -- no prerequisites)\n\n## Deliverables\n\n- `src/ui/HelpPanel.ts`\n- Updated `src/ui/index.ts` with exports\n- Unit tests in `tests/ui/`\n\n## Reference\n\n- Parent: Help Screen with Game Rules and Instructions (CG-0MLT0PM000TQRIXT)\n- GolfScene.ts end-screen overlay (lines 618-674) for Phaser overlay patterns\n- `src/ui/index.ts` current stub","effort":"","id":"CG-0MLTANMZ80E1GY0X","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLT0PM000TQRIXT","priority":"medium","risk":"","sortIndex":100,"stage":"in_review","status":"completed","tags":[],"title":"HelpPanel Core Component","updatedAt":"2026-02-19T10:32:49.295Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-19T10:04:35.381Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLTAO0XG0RGDGGN","to":"CG-0MLTANMZ80E1GY0X"}],"description":"## Summary\n\nAdd polished slide-in/slide-out animation with easing to the HelpPanel open/close transitions. The panel slides from off-screen left to its final position on open, and back off-screen on close, using Phaser tweens with cubic easing curves.\n\n## User Story\n\nAs a player, I want the help panel to slide in and out smoothly so the UI feels polished and responsive rather than jarring.\n\n## Acceptance Criteria\n\n- Calling `open()` slides the panel from off-screen left to its final position using a Phaser tween with ease-out curve\n- Calling `close()` slides the panel back off-screen left with ease-in curve\n- Animation duration is configurable (default ~300ms)\n- Calling `open()` while already open or `close()` while already closed is a no-op\n- Calling `open()` while a close animation is in progress interrupts the close and animates to the open position without a visible position jump\n- Pointer events on panel content (close button, scroll) do not fire during animation transitions\n- Unit/browser test verifies animation completes and panel reaches final position\n\n## Minimal Implementation\n\n- Use `scene.tweens.add()` with `Phaser.Math.Easing.Cubic.Out` for open, `Cubic.In` for close\n- Start panel at `x = -panelWidth`, animate to `x = 0` on open\n- Track animation state to handle interruption (stop existing tween, start new one from current position)\n- Disable panel interactivity during animation via a state flag\n\n## Prototype / Experiment\n\nVerify tween interruption (calling open during close) produces smooth reversal without visual glitches. Success = no position jump or orphaned tweens.\n\n## Dependencies\n\n- HelpPanel Core Component (CG-0MLTANMZ80E1GY0X)\n\n## Deliverables\n\n- Updated `src/ui/HelpPanel.ts` with animation logic\n- Animation unit/browser tests\n\n## Reference\n\n- Parent: Help Screen with Game Rules and Instructions (CG-0MLT0PM000TQRIXT)\n- Phaser tween API: scene.tweens.add() with easing functions","effort":"","id":"CG-0MLTAO0XG0RGDGGN","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLT0PM000TQRIXT","priority":"medium","risk":"","sortIndex":200,"stage":"in_review","status":"completed","tags":[],"title":"Panel Slide Animation","updatedAt":"2026-02-19T10:32:58.300Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-19T10:04:55.158Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLTAOG6U1SDSFHI","to":"CG-0MLTANMZ80E1GY0X"}],"description":"## Summary\n\nWhen content sections exceed the panel's visible height, enable vertical scrolling via mouse wheel and pointer drag, with a minimal scroll track bar indicator. Content is clipped to panel boundaries using a Phaser mask.\n\n## User Story\n\nAs a player, I want to scroll through long help content within the panel using my mouse wheel or by dragging, so I can read all the rules even if they don't fit on one screen.\n\n## Acceptance Criteria\n\n- If total content height exceeds panel height, scrolling is enabled automatically\n- Mouse wheel scrolls content up/down within the panel bounds\n- Pointer drag (click-and-drag) on the panel area scrolls content up/down\n- Content is clipped to the panel boundaries using a Phaser mask (no text visible outside the panel)\n- A thin vertical track bar on the right side of the panel shows relative scroll position\n- Track bar updates position as the user scrolls\n- If content fits within the panel, no track bar is shown and scrolling is disabled\n- Scroll position resets to top each time the panel is opened\n- Scrolling beyond the top boundary does not move content past the initial position (no over-scroll at top)\n- Scrolling beyond the bottom boundary does not move content past the last section (no over-scroll at bottom)\n- Unit/browser tests verify scroll behavior, clamping, and track bar visibility\n\n## Minimal Implementation\n\n- Wrap content text objects in a Phaser Container, apply a `GeometryMask` clipped to panel bounds\n- Listen for `wheel` events on the scene/panel and adjust container Y offset within bounds\n- Add pointer-drag input on the panel for touch/mouse drag scrolling\n- Draw track bar as a thin Phaser Graphics rectangle; update its Y position proportional to scroll offset\n- Calculate max scroll range from `totalContentHeight - visibleHeight`\n- On `open()`, reset content container Y to 0 (top)\n\n## Prototype / Experiment\n\nVerify Phaser 3.90.0 `GeometryMask` works correctly for clipping a scrollable container. Success = content clips cleanly at panel top/bottom boundaries with no visual artifacts.\n\n## Dependencies\n\n- HelpPanel Core Component (CG-0MLTANMZ80E1GY0X)\n\n## Deliverables\n\n- Updated `src/ui/HelpPanel.ts` with scroll and mask logic\n- Scroll behavior unit/browser tests\n\n## Reference\n\n- Parent: Help Screen with Game Rules and Instructions (CG-0MLT0PM000TQRIXT)\n- Phaser GeometryMask and Container APIs","effort":"","id":"CG-0MLTAOG6U1SDSFHI","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLT0PM000TQRIXT","priority":"medium","risk":"","sortIndex":300,"stage":"in_review","status":"completed","tags":[],"title":"Scrollable Content with Track Bar","updatedAt":"2026-02-19T10:33:00.634Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-19T10:05:15.864Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLTAOW5Z0ZK2GI0","to":"CG-0MLTANMZ80E1GY0X"},{"from":"CG-0MLTAOW5Z0ZK2GI0","to":"CG-0MLTAO0XG0RGDGGN"}],"description":"## Summary\n\nAdd a close button (\"X\") to the top-right corner of the HelpPanel and block all game pointer input when the panel is open. The game continues running (AI turns, animations) but no game objects respond to clicks while the panel is visible.\n\n## User Story\n\nAs a player, I want to dismiss the help panel by clicking an \"X\" button, and I don't want accidental clicks on game cards while reading the help content.\n\n## Acceptance Criteria\n\n- A close button (\"X\") is rendered in the top-right corner of the panel\n- Clicking the close button closes the panel (triggers close animation)\n- Close button has hover state (color change on pointer over)\n- When the panel is open, all game pointer input outside the panel is blocked (no clicks register on cards, piles, or other game objects)\n- When the panel is closed, all game input is restored to normal\n- After the panel is closed, clicking game objects (cards, piles) registers input normally (no residual blocking)\n- AI turns and animations continue running while the panel is open (game is not paused)\n- Tests verify input blocking activates on open and deactivates on close\n\n## Minimal Implementation\n\n- Add an interactive Phaser Text for the \"X\" button, positioned at top-right of panel\n- Use a full-screen transparent hit area (Phaser Rectangle) at high depth to intercept all pointer input when panel is open; destroy/disable it when panel closes\n- Ensure the panel, close button, and help button have higher depth than the input blocker\n- Set close button interactive with `useHandCursor: true`\n- Wire close button `pointerdown` to `this.close()`\n- Add `pointerover`/`pointerout` handlers for hover color change\n\n## Prototype / Experiment\n\nVerify full-screen transparent hit area blocks pointer events on game objects while allowing panel/button interaction. Success = no card clicks register behind the panel during active AI turns.\n\n## Dependencies\n\n- HelpPanel Core Component (CG-0MLTANMZ80E1GY0X)\n- Panel Slide Animation (CG-0MLTAO0XG0RGDGGN)\n\n## Deliverables\n\n- Updated `src/ui/HelpPanel.ts` with close button and input blocking\n- Input blocking tests\n\n## Reference\n\n- Parent: Help Screen with Game Rules and Instructions (CG-0MLT0PM000TQRIXT)\n- GolfScene.ts end-screen overlay button pattern (lines 657-673)","effort":"","id":"CG-0MLTAOW5Z0ZK2GI0","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLT0PM000TQRIXT","priority":"medium","risk":"","sortIndex":400,"stage":"in_review","status":"completed","tags":[],"title":"Input Blocking and Close Button","updatedAt":"2026-02-19T10:33:03.231Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-19T10:05:33.015Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLTAP9EE12DW186","to":"CG-0MLTANMZ80E1GY0X"}],"description":"## Summary\n\nCreate a reusable `HelpButton` class in `src/ui/` that renders a \"?\" button to toggle the help panel open and closed. The button is positioned in the top-right corner of the canvas by default and remains visible and clickable even when the panel is open.\n\n## User Story\n\nAs a player, I want a visible \"?\" button on screen that I can click to open and close the help panel, so I can easily access game rules whenever I need them.\n\n## Acceptance Criteria\n\n- `HelpButton` class exists in `src/ui/HelpButton.ts` and is exported from `src/ui/index.ts`\n- Constructor accepts a Phaser Scene and a reference to the HelpPanel to toggle\n- Button renders as a circular or rounded \"?\" icon in a fixed position (default: top-right corner of canvas)\n- Clicking the button toggles the help panel open/close\n- Button has hover state (visual feedback on pointer over)\n- Button position is configurable (x/y override in constructor config)\n- The HelpButton is not obscured or hidden when the help panel is open (remains clickable to close the panel)\n- Button depth is set higher than the input blocker so it remains interactive when the panel is open\n- Unit test verifies button renders and triggers panel toggle\n\n## Minimal Implementation\n\n- Create `src/ui/HelpButton.ts` with a Phaser Text or Graphics-based \"?\" button\n- Wire `pointerdown` to call `helpPanel.isOpen ? helpPanel.close() : helpPanel.open()`\n- Set depth higher than input blocker so it remains clickable when panel is open\n- Add hover state via `pointerover`/`pointerout` handlers\n- Default position: top-right corner with configurable x/y offset\n- Set interactive with `useHandCursor: true`\n- Export from `src/ui/index.ts`\n\n## Dependencies\n\n- HelpPanel Core Component (CG-0MLTANMZ80E1GY0X)\n\n## Deliverables\n\n- `src/ui/HelpButton.ts`\n- Updated `src/ui/index.ts` with `HelpButton` export\n- Unit tests in `tests/ui/`\n\n## Reference\n\n- Parent: Help Screen with Game Rules and Instructions (CG-0MLT0PM000TQRIXT)","effort":"","id":"CG-0MLTAP9EE12DW186","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLT0PM000TQRIXT","priority":"medium","risk":"","sortIndex":500,"stage":"in_review","status":"completed","tags":[],"title":"HelpButton Component","updatedAt":"2026-02-19T10:33:05.669Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-19T10:05:51.625Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLTAPNRB09U9C9F","to":"CG-0MLTANMZ80E1GY0X"},{"from":"CG-0MLTAPNRB09U9C9F","to":"CG-0MLTAO0XG0RGDGGN"}],"description":"## Summary\n\nAdd configurable keyboard shortcut support to the HelpPanel. The default shortcut is `?` (Shift+/) which toggles the panel open and closed. The shortcut key is configurable in the HelpPanel constructor config.\n\n## User Story\n\nAs a player, I want to press `?` on my keyboard to quickly toggle the help panel without reaching for my mouse, so I can check rules and get back to the game efficiently.\n\n## Acceptance Criteria\n\n- Pressing `?` (Shift+/) toggles the help panel open/close\n- The keyboard shortcut key is configurable in the HelpPanel constructor config (default: `?`)\n- The shortcut works regardless of whether the panel is currently open or closed\n- Pressing `?` when the panel is open closes it; pressing it when the panel is closed opens it\n- The shortcut is disabled during panel animation transitions (no rapid toggling during animation)\n- Pressing a non-configured key (e.g., `G`) does not toggle the panel\n- Keyboard listener is cleaned up when `destroy()` is called on the HelpPanel\n- Tests verify keyboard shortcut toggles the panel and non-configured keys are ignored\n\n## Minimal Implementation\n\n- Add a Phaser keyboard listener in HelpPanel for the configured key\n- Use `scene.input.keyboard!.on('keydown-FORWARD_SLASH', ...)` and check for shift modifier for the `?` default\n- Toggle open/close state on key press, respecting animation state\n- Clean up listener on panel destroy\n- Make shortcut key configurable via `HelpPanelConfig`\n\n## Prototype / Experiment\n\nVerify `Shift+/` detection works cross-platform in Phaser's keyboard system. Success = keydown fires reliably in Chrome, Firefox.\n\n## Dependencies\n\n- HelpPanel Core Component (CG-0MLTANMZ80E1GY0X)\n- Panel Slide Animation (CG-0MLTAO0XG0RGDGGN)\n\n## Deliverables\n\n- Updated `src/ui/HelpPanel.ts` with keyboard shortcut logic\n- Keyboard shortcut tests\n\n## Reference\n\n- Parent: Help Screen with Game Rules and Instructions (CG-0MLT0PM000TQRIXT)\n- Golf game currently uses only pointer input, so no keyboard conflicts expected","effort":"","id":"CG-0MLTAPNRB09U9C9F","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLT0PM000TQRIXT","priority":"medium","risk":"","sortIndex":600,"stage":"in_review","status":"completed","tags":[],"title":"Keyboard Shortcut Toggle","updatedAt":"2026-02-19T10:33:07.937Z"},"type":"workitem"}
{"data":{"assignee":"","createdAt":"2026-02-19T10:06:16.749Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[{"from":"CG-0MLTAQ7581C3NQOZ","to":"CG-0MLTANMZ80E1GY0X"},{"from":"CG-0MLTAQ7581C3NQOZ","to":"CG-0MLTAO0XG0RGDGGN"},{"from":"CG-0MLTAQ7581C3NQOZ","to":"CG-0MLTAOG6U1SDSFHI"},{"from":"CG-0MLTAQ7581C3NQOZ","to":"CG-0MLTAOW5Z0ZK2GI0"},{"from":"CG-0MLTAQ7581C3NQOZ","to":"CG-0MLTAP9EE12DW186"},{"from":"CG-0MLTAQ7581C3NQOZ","to":"CG-0MLTAPNRB09U9C9F"}],"description":"## Summary\n\nCreate the Golf game's help content as a JSON data file and integrate the HelpPanel and HelpButton into GolfScene. This is the end-to-end integration feature that wires all engine UI components into the first consuming game.\n\n## User Story\n\nAs a player of 9-Card Golf, I want to press the \"?\" button or hit the `?` key during gameplay to see a help panel with the game's rules, turn flow, scoring, and how-to-play instructions, so I can learn or refresh the rules mid-game.\n\n## Acceptance Criteria\n\n- A `help-content.json` file exists in `example-games/golf/` with an array of `{ heading, body }` sections covering rules and how-to-play content\n- Content is accurate per `GolfRules.ts` and `GolfScoring.ts` (A=1, 2=-2, 3-10=face, J/Q=10, K=0, column-of-three=0)\n- The `help-content.json` file is valid JSON and parseable without errors\n- GolfScene creates a HelpPanel with the JSON content and a HelpButton in the top-right corner\n- The `?` keyboard shortcut toggles the help panel in the Golf game\n- The help panel is accessible during gameplay without pausing or disrupting the game\n- Opening the help panel during an AI turn does not interrupt the AI's move execution\n- A browser test verifies the help panel opens, displays content, and closes in the Golf game\n- `npm test` passes; `npm run build` succeeds\n\n## Minimal Implementation\n\n- Create `example-games/golf/help-content.json` with an arbitrary number of `{ heading, body }` sections derived from GolfRules.ts and GolfScoring.ts\n- Import the JSON in GolfScene via `import helpContent from './help-content.json'`\n- Instantiate HelpPanel with the imported content in GolfScene's `create()` method\n- Instantiate HelpButton in GolfScene's `create()` method, positioned top-right\n- Add a browser test (`*.browser.test.ts`) that opens the Golf game, clicks the help button, verifies content renders, and closes the panel\n\n## Dependencies\n\n- HelpPanel Core Component (CG-0MLTANMZ80E1GY0X)\n- Panel Slide Animation (CG-0MLTAO0XG0RGDGGN)\n- Scrollable Content with Track Bar (CG-0MLTAOG6U1SDSFHI)\n- Input Blocking and Close Button (CG-0MLTAOW5Z0ZK2GI0)\n- HelpButton Component (CG-0MLTAP9EE12DW186)\n- Keyboard Shortcut Toggle (CG-0MLTAPNRB09U9C9F)\n\n## Deliverables\n\n- `example-games/golf/help-content.json`\n- Updated `example-games/golf/scenes/GolfScene.ts` with HelpPanel and HelpButton integration\n- Browser integration test\n\n## Reference\n\n- Parent: Help Screen with Game Rules and Instructions (CG-0MLT0PM000TQRIXT)\n- `example-games/golf/GolfRules.ts`: source material for turn flow and rules content\n- `example-games/golf/GolfScoring.ts`: source material for scoring content\n- `example-games/golf/GolfGrid.ts`: grid layout context (3x3)\n- Browser test patterns: `*.browser.test.ts` convention per CG-0MLSUJIE30K54IUO","effort":"","id":"CG-0MLTAQ7581C3NQOZ","issueType":"feature","needsProducerReview":false,"parentId":"CG-0MLT0PM000TQRIXT","priority":"medium","risk":"","sortIndex":700,"stage":"in_review","status":"completed","tags":[],"title":"Golf Help Content and Integration","updatedAt":"2026-02-19T10:33:10.010Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T10:55:45.372Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nWhen the help panel slides open, the content area is blank. Text only appears after the user scrolls. This is because the GeometryMask is drawn at the container's x position at the time of opening (which is off-screen at -panelWidth), and is never updated during the slide-in animation.\n\n## Root Cause\n\nIn resetScroll() (called by open()), the mask is drawn at maskX = this.container.x, which is -panelWidth (off-screen). The slide-in tween animates container.x from -panelWidth to 0, but the mask rectangle is not redrawn during the animation. The mask only gets redrawn when the user scrolls (applyScroll()), which is why content appears after scrolling.\n\n## Fix\n\nAdd an onUpdate callback to both the open and close tweens that redraws the mask at the container's current x position during each animation frame.\n\n## Acceptance Criteria\n\n1. When the help panel opens, text content is visible immediately (as the panel slides in)\n2. Content remains visible throughout the entire slide-in animation\n3. Content remains visible during slide-out animation\n4. Scrolling still works correctly after the fix\n5. npm test passes; npm run build succeeds\n\n## Related\n\n- Parent: Help Screen with Game Rules and Instructions (CG-0MLT0PM000TQRIXT)\n- File: src/ui/HelpPanel.ts","effort":"","id":"CG-0MLTCHTQV00N4L9R","issueType":"bug","needsProducerReview":false,"parentId":"CG-0MLT0PM000TQRIXT","priority":"high","risk":"","sortIndex":800,"stage":"in_review","status":"completed","tags":[],"title":"Fix blank help panel on initial open","updatedAt":"2026-02-19T11:00:03.390Z"},"type":"workitem"}
{"data":{"assignee":"opencode","createdAt":"2026-02-19T11:05:39.445Z","createdBy":"","deleteReason":"","deletedBy":"","dependencies":[],"description":"## Summary\n\nWhen the AI takes its turn, the player cannot tell what move was made. The AI should visually show which pile it draws from (stock or discard), pause to let the player see the drawn card, and then execute the swap/discard move.\n\n## User Story\n\nAs a player, I want to see which pile the AI draws from and what card it drew before the AI makes its move, so I can follow the AI's strategy and understand what happened.\n\n## Current Behavior\n\n1. 'AI is thinking...' text shown for 600ms\n2. AI turn executes instantly (draw + move in one call)\n3. Only the card flip at the grid position is animated\n4. No indication of draw source or drawn card\n\n## Desired Behavior\n\n1. 'AI is thinking...' text shown briefly\n2. AI draws from stock or discard -- the drawn card is shown visually (like the human's showDrawnCard()) with instruction text indicating which pile was chosen\n3. ~1 second pause so the player can see the drawn card\n4. AI executes the swap or discard-and-flip move with the existing flip animation\n5. Piles and scores refresh after the move completes\n\n## Acceptance Criteria\n\n1. When the AI draws from stock, the instruction text says something like 'AI drew from stock'\n2. When the AI draws from discard, the instruction text says 'AI drew from discard'\n3. The drawn card is shown visually next to the piles (using the existing showDrawnCard pattern)\n4. There is a visible pause (~1 second) between showing the drawn card and executing the move\n5. After the move, the drawn card display is hidden and piles refresh normally\n6. npm test passes; npm run build succeeds\n\n## Files to Change\n\n- example-games/golf/scenes/GolfScene.ts -- runAiTurn() method and potentially setPhase()\n\n## Related\n\n- discovered-from:CG-0MLT0PM000TQRIXT","effort":"","id":"CG-0MLTCUK500GZUJ6N","issueType":"bug","needsProducerReview":false,"parentId":null,"priority":"high","risk":"","sortIndex":1500,"stage":"in_review","status":"completed","tags":[],"title":"Show AI draw source with pause before move","updatedAt":"2026-02-19T11:11:52.222Z"},"type":"workitem"}
{"data":{"author":"opencode","comment":"Planning Complete. Epic decomposed into 8 feature work items:\n\n1. Card Asset Pipeline (CG-0MLSPHIDD19PBDOZ) - Source 52-card SVG deck from saulspatz/SVGCards (public domain)\n2. Card System Engine Module (CG-0MLSPHOWY1HSCIDX) - Card, Deck, Pile in src/card-system/\n3. Core Engine Turn Sequencer (CG-0MLSPHU1C02RAGE0) - GameState, TurnSequencer in src/core-engine/\n4. Golf Game Rules and Scoring (CG-0MLSPI9YQ083H8LO) - GolfGrid, scoring, turn logic in example-games/golf/\n5. AI Player (CG-0MLSPIGPM0HRCCYE) - Random and Greedy strategies in example-games/golf/\n6. Game Transcript Recording (CG-0MLSPIQ1516DJNQL) - Replay-ready JSON transcripts in example-games/golf/\n7. Golf Phaser UI (CG-0MLSPJ9EW1WGHKLX) - Single GolfScene with full visual interface\n8. Integration Test and Documentation (CG-0MLSPJFWL14OQNJ5) - E2E tests and doc updates\n\nDependency graph: {1,2,3} parallel -> {4} -> {5,6} parallel -> {7} -> {8}\n\nKey decisions captured during planning:\n- Card assets: saulspatz/SVGCards (public domain), resized to 140x190px\n- Card/Deck/Pile go in engine (src/card-system/) - broadly reusable\n- Turn sequencer goes in engine (src/core-engine/) - broadly reusable\n- Golf rules/scoring stay local to example-games/golf/ - game-specific, rule-engine extraction deferred\n- Grid type stays local to golf game - extract after second game validates\n- Single Phaser scene for full game flow\n- Transcript format designed for replay tool (CG-0MLSN2YWY1EL17FN) consumption\n\nOpen questions:\n- Feature 7 (Golf Phaser UI) may benefit from sub-task breakdown during implementation","createdAt":"2026-02-19T00:13:52.304Z","id":"CG-C0MLSPKCVJ13XOMZZ","references":[],"workItemId":"CG-0MLSDW7YM1IWH2SB"},"type":"comment"}
{"data":{"author":"opencode","comment":"All 8 child features completed and merged to main. Summary:\n\n1. Card Asset Pipeline (CG-0MLSPHIDD19PBDOZ) - 52 card SVGs at 140x190px\n2. Card System Engine Module (CG-0MLSPHOWY1HSCIDX) - Card, Deck, Pile abstractions\n3. Core Engine Turn Sequencer (CG-0MLSPHU1C02RAGE0) - GameState, TurnSequencer\n4. Golf Game Rules and Scoring (CG-0MLSPI9YQ083H8LO) - GolfGrid, scoring, turn legality\n5. AI Player (CG-0MLSPIGPM0HRCCYE) - RandomStrategy, GreedyStrategy, AiPlayer\n6. Game Transcript Recording (CG-0MLSPIQ1516DJNQL) - TranscriptRecorder, JSON transcripts\n7. Golf Phaser UI (CG-0MLSPJ9EW1WGHKLX) - Full Phaser scene (GolfScene.ts, 674 lines)\n8. Integration Test and Documentation (CG-0MLSPJFWL14OQNJ5) - 19 integration tests, docs updated\n\nTotal: 204 tests passing across 15 test files. npm run build succeeds. Game playable at localhost:3000 via npm run dev.\n\nEpic is ready for producer review and closure.","createdAt":"2026-02-19T02:10:39.571Z","id":"CG-C0MLSTQJPU0JTR6MV","references":[],"workItemId":"CG-0MLSDW7YM1IWH2SB"},"type":"comment"}
{"data":{"author":"opencode","comment":"All 10 child work items completed and merged to main. Final summary:\n\nFeatures 1-8: Card assets, card system, core engine, rules/scoring, AI player, transcript, Phaser UI, integration tests\nFeature 9: Browser testing infrastructure (CG-0MLSUJIE30K54IUO)\nBug fix 10: Fixed broken Golf UI layout (CG-0MLSW8TKZ0YHXJR2) - cards resized from 70x95 to 48x65, all layout positions recalculated\n\nFinal state: 218 tests passing (204 unit + 14 browser), npm run build succeeds, game fully playable at localhost:3000.\n\nMerge commit 7a007bc on main.","createdAt":"2026-02-19T04:07:45.066Z","id":"CG-C0MLSXX4MI0XSJ37N","references":[],"workItemId":"CG-0MLSDW7YM1IWH2SB"},"type":"comment"}
{"data":{"author":"worklog","comment":"Closed with reason: All 10 child features/fixes completed. 218 tests pass, build succeeds, game fully playable. Final merge commit 7a007bc.","createdAt":"2026-02-19T04:07:54.310Z","id":"CG-C0MLSXXBRA0M4C6GQ","references":[],"workItemId":"CG-0MLSDW7YM1IWH2SB"},"type":"comment"}
{"data":{"author":"Map","comment":"Blocks: CG-0MLSDW7YM1IWH2SB (9-Card Golf), CG-0MLSDWFLT1WB6IEB (Beleaguered Castle), CG-0MLSDWSCG154TUEL (Sushi Go!), CG-0MLSDX4B91DG6S1A (Splendor), CG-0MLSDXELC06VESJL (Lost Cities), CG-0MLSDXNMM1R2IMT9 (The Mind), CG-0MLSDXY9F1FSGQ38 (Coloretto). All 7 game spikes require a scaffolded project before implementation can begin.","createdAt":"2026-02-18T19:53:33.044Z","id":"CG-C0MLSG9KYR1P216LK","references":[],"workItemId":"CG-0MLSFU7300TLFCBH"},"type":"comment"}
{"data":{"author":"opencode","comment":"Planning Complete. Decomposed into 6 child features:\n\n1. Initialize Git Repository and .gitignore (CG-0MLSGNEUY15SODX5) - git init, comprehensive .gitignore, initial commit\n2. Package.json, Vite, and TypeScript Config (CG-0MLSGNJUD0F48DHV) - package.json, tsconfig, vite config, index.html\n3. Directory Structure and Placeholder Modules (CG-0MLSGNPFI0ZX35FR) - flat monorepo dirs, barrel-file placeholders\n4. Hello-World Phaser Scene with Card Sprite (CG-0MLSGO24L0PVQ8B9) - Phaser scene, CC0 card assets, asset pipeline proof\n5. Vitest Setup and Smoke Test (CG-0MLSGO76R0YFSV77) - Vitest config, trivial smoke test\n6. AGENTS.md Comprehensive Rewrite (CG-0MLSGODWP0IUDOBG) - tech stack, directory, overview, contribution guidance\n\nDependency chain: 1 -> 2 -> 3 -> 4 -> 6; 2 -> 5 -> 6 (Features 3/4 and 5 can be parallelized after Feature 2).\n\nDecisions confirmed during interview:\n- Minimal barrel files only (no skeleton types; deferred to first game spike)\n- Single Vite entry point (multi-page deferred)\n- CC0 playing card asset set for hello-world scene\n- Trivial smoke test (not module import test)\n- Broader AGENTS.md rewrite (tech stack + directory + overview + contribution guidance)\n- Worklog section preserved unchanged\n\nNo open questions remain.","createdAt":"2026-02-18T20:05:37.574Z","id":"CG-C0MLSGP4120XL66M9","references":[],"workItemId":"CG-0MLSFU7300TLFCBH"},"type":"comment"}
{"data":{"author":"opencode","comment":"Added README.md and docs/DEVELOPER.md via child work item CG-0MLSHQJIU0097VRY (commit f4ef772). AGENTS.md updated with Documentation section and Doc-Update Policy. Also created CG-0MLSHQMDY1H0I2B7 (medium priority) to add a pre-commit hook for automated doc-update enforcement.","createdAt":"2026-02-18T20:38:57.375Z","id":"CG-C0MLSHVZ321O3SN49","references":[],"workItemId":"CG-0MLSFU7300TLFCBH"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed: Git repository initialized and .gitignore updated. Commit 26cce19. All acceptance criteria verified:\n- git status exits 0\n- .gitignore covers node_modules/, dist/, .vite/, *.js.map, .idea/, .vscode/, .DS_Store, Thumbs.db\n- Worklog-specific ignore rules preserved exactly\n- AGENTS.md and .gitignore tracked in initial commit\nFiles changed: .gitignore, AGENTS.md","createdAt":"2026-02-18T20:07:36.339Z","id":"CG-C0MLSGRNO30E0T8DR","references":[],"workItemId":"CG-0MLSGNEUY15SODX5"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed: Package.json, Vite, and TypeScript configuration. Commit e26ed98. All acceptance criteria verified:\n- package.json with Phaser 3.90.0, TypeScript 5.7, Vite 6.1, Vitest 3.0\n- tsconfig.json with strict:true, ES2020 target, Phaser types resolve\n- vite.config.ts with path aliases and sourcemaps\n- index.html entry point\n- npm run build produces dist/ with exit code 0\nFiles: package.json, package-lock.json, tsconfig.json, vite.config.ts, index.html, example-games/hello-world/main.ts","createdAt":"2026-02-18T20:11:06.986Z","id":"CG-C0MLSGW67E0SGLFSB","references":[],"workItemId":"CG-0MLSGNJUD0F48DHV"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed: Directory structure and placeholder barrel modules. Commit f77eca8. All acceptance criteria verified:\n- All directories exist: src/core-engine/, src/card-system/, src/rule-engine/, src/ui/, example-games/, public/, tests/\n- Each src/ module has index.ts with a named export\n- npm run build succeeds\n- TypeScript resolves without errors\nFiles: src/core-engine/index.ts, src/card-system/index.ts, src/rule-engine/index.ts, src/ui/index.ts","createdAt":"2026-02-18T20:12:47.403Z","id":"CG-C0MLSGYBOQ14PW140","references":[],"workItemId":"CG-0MLSGNPFI0ZX35FR"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed: Hello-World Phaser scene with card sprites. Commit 0696c6d. All acceptance criteria verified:\n- HelloWorldScene extends Phaser.Scene at example-games/hello-world/scenes/HelloWorldScene.ts\n- CC0 SVG card images loaded from public/assets/cards/ and rendered\n- Asset attribution documented in public/assets/CREDITS.md\n- npm run build includes scene and assets in production bundle (dist/assets/cards/)\n- TypeScript compilation passes\nNote: Phaser bundle size warning (1.4MB) is expected and can be addressed with code-splitting later.\nFiles: example-games/hello-world/main.ts, example-games/hello-world/scenes/HelloWorldScene.ts, public/assets/cards/ace_of_spades.svg, public/assets/cards/card_back.svg, public/assets/CREDITS.md","createdAt":"2026-02-18T20:15:58.201Z","id":"CG-C0MLSH2EWO1CYUR71","references":[],"workItemId":"CG-0MLSGO24L0PVQ8B9"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed: Vitest setup and smoke test. Commit 5dad2e4. All acceptance criteria verified:\n- npm test exits with code 0, reports 2 passed tests\n- tests/smoke.test.ts exists under tests/\n- Vitest configuration present in vite.config.ts (inline test block)\n- Build still succeeds after adding test config\nFiles: vite.config.ts, tests/smoke.test.ts","createdAt":"2026-02-18T20:18:23.516Z","id":"CG-C0MLSH5J171488LY5","references":[],"workItemId":"CG-0MLSGO76R0YFSV77"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed: AGENTS.md comprehensive rewrite. Commit 38a6264. All acceptance criteria verified:\n- Technology stack references Phaser 3.x, Vite, Vitest (no Phaser 4, Webpack, Jest as primary tools)\n- Directory structure diagram matches actual scaffold layout\n- Project overview describes flat monorepo and spike-driven development\n- Contribution guidance reflects npm run dev/test/build workflow\n- Worklog AGENTS.md content between markers preserved unchanged\nFiles: AGENTS.md","createdAt":"2026-02-18T20:21:44.272Z","id":"CG-C0MLSH9TXS05JPFL2","references":[],"workItemId":"CG-0MLSGODWP0IUDOBG"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed: Added README.md and docs/DEVELOPER.md; updated AGENTS.md with Documentation section and Doc-Update Policy. Commit f4ef772.\n\nAll acceptance criteria verified:\n- README.md exists with project summary, quick-start, repo layout, and contribution pointers\n- docs/DEVELOPER.md exists with environment setup, run/build/test, example-game guide, asset management, path aliases, troubleshooting, and doc-update policy\n- AGENTS.md includes Documentation section referencing README.md and docs/DEVELOPER.md\n- AGENTS.md includes Doc-Update Policy requiring child work items for infra changes without doc updates\n- npm test passes (2 tests), npm run build succeeds\n\nFiles changed: README.md, docs/DEVELOPER.md, AGENTS.md","createdAt":"2026-02-18T20:38:54.954Z","id":"CG-C0MLSHVX7R1W2U6BT","references":[],"workItemId":"CG-0MLSHQJIU0097VRY"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed rename across 10 files (package.json, README.md, AGENTS.md, index.html, docs/DEVELOPER.md, tests/smoke.test.ts, example-games/hello-world/main.ts, example-games/hello-world/scenes/HelloWorldScene.ts, src/ui/index.ts, package-lock.json). All tests pass, build succeeds. Commit f9e3938.","createdAt":"2026-02-18T21:09:54.366Z","id":"CG-C0MLSIZRXZ11GA0NO","references":[],"workItemId":"CG-0MLSIULHH0Y6I3DV"},"type":"comment"}
{"data":{"author":"opencode","comment":"Merged to main. Merge commit 605c8d7. All tests pass and build succeeds on main.","createdAt":"2026-02-18T21:11:53.941Z","id":"CG-C0MLSJ2C7O08RIL3R","references":[],"workItemId":"CG-0MLSIULHH0Y6I3DV"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed Card Asset Pipeline. Added 52 card face SVGs + card back from saulspatz/SVGCards (public domain), resized to 140x190px, renamed to rank_of_suit.svg convention. Updated CREDITS.md. Added conversion script at scripts/convert-cards.mjs. All SVGs validated (valid XML, correct dimensions). Merge commit: 29d90d9","createdAt":"2026-02-19T01:46:53.857Z","id":"CG-C0MLSSVZMO1RXCLXQ","references":[],"workItemId":"CG-0MLSPHIDD19PBDOZ"},"type":"comment"}
{"data":{"author":"worklog","comment":"Closed with reason: Completed: 52 SVG card faces + card back sourced, resized, renamed, and integrated. Merge commit 29d90d9.","createdAt":"2026-02-19T01:46:55.259Z","id":"CG-C0MLSSW0PM07HCBS2","references":[],"workItemId":"CG-0MLSPHIDD19PBDOZ"},"type":"comment"}
{"data":{"author":"opencode","comment":"Implementation complete. Commit f368bb3 on branch wl-CG-0MLSPHOWY1HSCIDX-card-system-module. Files: src/card-system/Card.ts, Deck.ts, Pile.ts, index.ts; tests/card-system/Card.test.ts, Deck.test.ts, Pile.test.ts, index.test.ts. All 45 tests pass, tsc and vite build succeed.","createdAt":"2026-02-19T00:20:28.046Z","id":"CG-C0MLSPSU8502O2BJC","references":[],"workItemId":"CG-0MLSPHOWY1HSCIDX"},"type":"comment"}
{"data":{"author":"worklog","comment":"Closed with reason: Completed. Merge commit 63446b6 on main. Card, Deck, and Pile abstractions implemented in src/card-system/ with 45 unit tests. All acceptance criteria met: Card type with rank/suit/faceUp, Deck with create/shuffle/draw, Pile with push/pop/peek/isEmpty/size, barrel exports, npm test and npm run build pass.","createdAt":"2026-02-19T00:21:15.989Z","id":"CG-C0MLSPTV850GNDWZU","references":[],"workItemId":"CG-0MLSPHOWY1HSCIDX"},"type":"comment"}
{"data":{"author":"opencode","comment":"Implementation complete. Commit 9b476f9 merged to main via e9d158a. Files: src/core-engine/GameState.ts, TurnSequencer.ts, index.ts; tests/core-engine/GameState.test.ts, TurnSequencer.test.ts, index.test.ts. All 88 tests pass (43 new for core-engine), tsc --noEmit succeeds.","createdAt":"2026-02-19T00:33:35.885Z","id":"CG-C0MLSQ9Q4S13VFDHZ","references":[],"workItemId":"CG-0MLSPHU1C02RAGE0"},"type":"comment"}
{"data":{"author":"worklog","comment":"Closed with reason: Completed. Merge commit e9d158a on main. GameState<T> generic container, TurnSequencer with phase transitions, 43 unit tests. All acceptance criteria met.","createdAt":"2026-02-19T00:33:37.734Z","id":"CG-C0MLSQ9RK60ZEEIFX","references":[],"workItemId":"CG-0MLSPHU1C02RAGE0"},"type":"comment"}
{"data":{"author":"opencode","comment":"Implementation complete. Commit 23e4048 merged to main via ac8ed3b. Files: example-games/golf/GolfGrid.ts, GolfRules.ts, GolfScoring.ts; tests/golf/GolfGrid.test.ts, GolfRules.test.ts, GolfScoring.test.ts. 59 new tests (147 total), all pass. tsc --noEmit succeeds.","createdAt":"2026-02-19T01:40:58.365Z","id":"CG-C0MLSSODBQ1TMVC45","references":[],"workItemId":"CG-0MLSPI9YQ083H8LO"},"type":"comment"}
{"data":{"author":"worklog","comment":"Closed with reason: Completed. Merge commit ac8ed3b. All acceptance criteria met: GolfGrid, scoring with column-matching, turn legality, end-of-round detection, initial reveal.","createdAt":"2026-02-19T01:41:01.110Z","id":"CG-C0MLSSOFG61KIZTAA","references":[],"workItemId":"CG-0MLSPI9YQ083H8LO"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed AI Player implementation. Added GolfGame.ts (game orchestration, setup, legal move enumeration, turn execution) and AiStrategy.ts (AiStrategy interface, RandomStrategy, GreedyStrategy, AiPlayer wrapper). 28 new tests including 3 full game simulations. Merge commit: bfabbc0","createdAt":"2026-02-19T01:53:58.397Z","id":"CG-C0MLST537G0PWGNRV","references":[],"workItemId":"CG-0MLSPIGPM0HRCCYE"},"type":"comment"}
{"data":{"author":"worklog","comment":"Closed with reason: Completed: AI Player with RandomStrategy and GreedyStrategy. Merge commit bfabbc0.","createdAt":"2026-02-19T01:54:00.774Z","id":"CG-C0MLST550909P5UNV","references":[],"workItemId":"CG-0MLSPIGPM0HRCCYE"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed Game Transcript Recording. Added GameTranscript.ts with TypeScript interfaces (GameTranscript, TurnRecord, BoardSnapshot, CardSnapshot) and TranscriptRecorder class. 10 new tests including full game transcript validation. Merge commit: c4ba648","createdAt":"2026-02-19T01:57:10.653Z","id":"CG-C0MLST97JX0I7TCEM","references":[],"workItemId":"CG-0MLSPIQ1516DJNQL"},"type":"comment"}
{"data":{"author":"worklog","comment":"Closed with reason: Completed: Game Transcript Recording with TranscriptRecorder and schema validation. Merge commit c4ba648.","createdAt":"2026-02-19T01:57:12.634Z","id":"CG-C0MLST992Y1OVEHCN","references":[],"workItemId":"CG-0MLSPIQ1516DJNQL"},"type":"comment"}
{"data":{"author":"opencode","comment":"Implemented Golf Phaser UI. Commit 00d4217, merged to main in 03a01f5. Files: example-games/golf/scenes/GolfScene.ts (674 lines - full Phaser scene with 3x3 grids, stock/discard piles, click/tap input, card flip animations, turn indicators, score display, end-of-round screen, AI opponent with delay), example-games/golf/main.ts (entry point), index.html (updated to point to golf game). All 185 tests pass, TypeScript clean.","createdAt":"2026-02-19T02:03:46.267Z","id":"CG-C0MLSTHOT70EP8DWX","references":[],"workItemId":"CG-0MLSPJ9EW1WGHKLX"},"type":"comment"}
{"data":{"author":"worklog","comment":"Closed with reason: Completed. Merge commit 03a01f5. GolfScene renders both players 3x3 grids, stock/discard piles, supports click/tap for draw/swap/discard-and-flip, card flip animations via tweens, turn/score indicators, end-of-round screen with play again, AI opponent. 185 tests pass.","createdAt":"2026-02-19T02:03:52.192Z","id":"CG-C0MLSTHTDH04AWAXW","references":[],"workItemId":"CG-0MLSPJ9EW1WGHKLX"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed integration tests and documentation. Commit 8392993, merged to main in 8b88e17. Files: tests/golf/Integration.test.ts (19 tests - full AI-vs-AI games with Random/Greedy strategies, transcript structure validation, game invariants including card conservation, face-up monotonicity, stock count tracking, JSON serialization), README.md (added Golf to example games table, updated repo layout), docs/DEVELOPER.md (added Golf game section with file listing, test listing, gameplay instructions, updated project structure). All 204 tests pass, npm run build succeeds.","createdAt":"2026-02-19T02:09:54.775Z","id":"CG-C0MLSTPL5612J3H9V","references":[],"workItemId":"CG-0MLSPJFWL14OQNJ5"},"type":"comment"}
{"data":{"author":"worklog","comment":"Closed with reason: Completed. Merge commit 8b88e17. 19 integration tests (AI-vs-AI with Random/Greedy, transcript validation, game invariants). README.md and docs/DEVELOPER.md updated with Golf game. 204 tests pass, build succeeds.","createdAt":"2026-02-19T02:10:00.612Z","id":"CG-C0MLSTPPNJ1LI0JC8","references":[],"workItemId":"CG-0MLSPJFWL14OQNJ5"},"type":"comment"}
{"data":{"author":"opencode","comment":"Merged to main and pushed to origin. Merge commit 3ecd27a. All 210 tests pass (204 unit + 6 browser), tsc --noEmit clean, build succeeds. Files: vite.config.ts (test.projects), example-games/golf/createGolfGame.ts (new), example-games/golf/main.ts (updated), tests/golf/GolfScene.browser.test.ts (new, 6 tests), docs/DEVELOPER.md (browser testing section), package.json/package-lock.json (deps).","createdAt":"2026-02-19T02:51:03.378Z","id":"CG-C0MLSV6HXU11M7ALU","references":[],"workItemId":"CG-0MLSUJIE30K54IUO"},"type":"comment"}
{"data":{"author":"worklog","comment":"Closed with reason: All acceptance criteria met: @vitest/browser + playwright installed, test.projects configured, 6 browser tests verify canvas rendering/game state/interactions/no errors, all 210 tests pass, docs updated. Merge commit 3ecd27a pushed to origin/main.","createdAt":"2026-02-19T02:51:11.521Z","id":"CG-C0MLSV6O801P57R8J","references":[],"workItemId":"CG-0MLSUJIE30K54IUO"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed: Fixed broken Golf UI layout and added interaction browser tests. Card dimensions reduced from 70x95 to 48x65, all layout positions recalculated for clean separation. Added 8 interaction browser tests covering the full turn flow. All 218 tests pass, build succeeds. Commit f251bff, merge commit 7a007bc.","createdAt":"2026-02-19T04:07:06.823Z","id":"CG-C0MLSXWB3Z0FGAP62","references":[],"workItemId":"CG-0MLSW8TKZ0YHXJR2"},"type":"comment"}
{"data":{"author":"worklog","comment":"Closed with reason: Fixed broken Golf UI layout. Merge commit 7a007bc on main.","createdAt":"2026-02-19T04:07:13.304Z","id":"CG-C0MLSXWG471M1XBYZ","references":[],"workItemId":"CG-0MLSW8TKZ0YHXJR2"},"type":"comment"}
{"data":{"author":"opencode","comment":"Planning Complete. Decomposed into 7 feature work items:\n\n1. HelpPanel Core Component (CG-0MLTANMZ80E1GY0X) - Base class with heading/body sections, open/close state, configurable width\n2. Panel Slide Animation (CG-0MLTAO0XG0RGDGGN) - Slide-in/out tweens with cubic easing, interruption handling\n3. Scrollable Content with Track Bar (CG-0MLTAOG6U1SDSFHI) - Mouse wheel + drag scrolling, GeometryMask clipping, minimal track bar indicator\n4. Input Blocking and Close Button (CG-0MLTAOW5Z0ZK2GI0) - X close button, full-screen hit area to block game input while panel is open\n5. HelpButton Component (CG-0MLTAP9EE12DW186) - Reusable ? toggle button in src/ui/, top-right positioning\n6. Keyboard Shortcut Toggle (CG-0MLTAPNRB09U9C9F) - ? key (Shift+/) to toggle panel, configurable key, animation-aware\n7. Golf Help Content and Integration (CG-0MLTAQ7581C3NQOZ) - JSON help content file + wire HelpPanel/HelpButton into GolfScene\n\nDependency graph: F1 is root. F2, F3, F5 can parallelize after F1. F4, F6 require F1+F2. F7 (integration) depends on all others.\n\nDesign decisions captured during interview:\n- Animation: Polished with cubic easing curves (ease-out open, ease-in close)\n- Scroll indicator: Minimal vertical track bar\n- Content format: JSON data file (help-content.json)\n- Backdrop: No backdrop overlay\n- Help button position: Top-right corner of canvas\n- Keyboard shortcut: ? key (Shift+/)\n- Input blocking: Block all game pointer input when panel is open\n- Panel width: 35% of canvas width\n- Help sections: Arbitrary number with arbitrary headings (not fixed)\n\nAutomated review stages completed: Completeness, Sequencing & Dependencies, Scope Sizing, Acceptance & Testability, Polish & Handoff. All acceptance criteria verified as pass/fail testable with negative cases included.","createdAt":"2026-02-19T10:07:24.534Z","id":"CG-C0MLTARNG608H8ILA","references":[],"workItemId":"CG-0MLT0PM000TQRIXT"},"type":"comment"}
{"data":{"author":"opencode","comment":"All 7 child work items (F1-F7) completed and merged to main via merge commit ae149ae. Implementation commit: 8100b0d. All acceptance criteria satisfied: HelpPanel core component with sections rendering, slide animation with cubic easing, scrollable content with GeometryMask and track bar, input blocking with close button, HelpButton toggle, keyboard shortcut (Shift+/), and Golf game integration with 7-section help content. 210 unit tests pass, browser tests pass individually, TypeScript compilation clean, Vite production build succeeds. Ready for producer review.","createdAt":"2026-02-19T10:34:30.431Z","id":"CG-C0MLTBQHZY1V6KJGR","references":[],"workItemId":"CG-0MLT0PM000TQRIXT"},"type":"comment"}
{"data":{"author":"opencode","comment":"Implemented HelpPanel core component in src/ui/HelpPanel.ts. Class accepts HelpPanelConfig with sections array and widthPercent. Renders left-side panel with background rectangle, heading/body text objects, open()/close()/toggle()/destroy() methods, isOpen property. Panel starts hidden off-screen. See commit 8100b0d.","createdAt":"2026-02-19T10:32:18.372Z","id":"CG-C0MLTBNO3A155ZLHW","references":[],"workItemId":"CG-0MLTANMZ80E1GY0X"},"type":"comment"}
{"data":{"author":"opencode","comment":"Implemented slide animation in HelpPanel. open() uses Cubic.easeOut tween to slide panel from -panelWidth to 0. close() uses Cubic.easeIn to slide back off-screen. Animation duration configurable (default 300ms). Interruption handling: stops existing tween and starts new one from current position. See commit 8100b0d.","createdAt":"2026-02-19T10:32:21.129Z","id":"CG-C0MLTBNQ890BOZ9O5","references":[],"workItemId":"CG-0MLTAO0XG0RGDGGN"},"type":"comment"}
{"data":{"author":"opencode","comment":"Implemented scrollable content with GeometryMask and track bar indicator. Mouse wheel scrolling with clamping. Track bar shows relative scroll position. Content clipped to panel boundaries. Scroll resets to top on open. See commit 8100b0d.","createdAt":"2026-02-19T10:32:23.646Z","id":"CG-C0MLTBNS651BUGM8V","references":[],"workItemId":"CG-0MLTAOG6U1SDSFHI"},"type":"comment"}
{"data":{"author":"opencode","comment":"Implemented input blocking and close button. X close button at top-right with hover state. Full-screen transparent hit area blocks game input when panel is open. Clicking outside panel dismisses it. Input blocker removed on close. See commit 8100b0d.","createdAt":"2026-02-19T10:32:25.905Z","id":"CG-C0MLTBNTWX0US1722","references":[],"workItemId":"CG-0MLTAOW5Z0ZK2GI0"},"type":"comment"}
{"data":{"author":"opencode","comment":"Implemented HelpButton in src/ui/HelpButton.ts. Circular ? button with border, hover states, configurable position (default: top-right corner). Toggles HelpPanel on click. Depth set above input blocker. Exported from src/ui/index.ts. See commit 8100b0d.","createdAt":"2026-02-19T10:32:28.351Z","id":"CG-C0MLTBNVSN0S2FWTB","references":[],"workItemId":"CG-0MLTAP9EE12DW186"},"type":"comment"}
{"data":{"author":"opencode","comment":"Implemented keyboard shortcut toggle. Listens for ? key (Shift+/) via scene.input.keyboard. Toggle respects animation state (no-op during animation). Listener cleaned up on destroy(). See commit 8100b0d.","createdAt":"2026-02-19T10:32:30.413Z","id":"CG-C0MLTBNXE501YVZYQ","references":[],"workItemId":"CG-0MLTAPNRB09U9C9F"},"type":"comment"}
{"data":{"author":"opencode","comment":"Created help-content.json with 7 sections: 9-Card Golf overview, Setup, Turn Flow, Round End, Scoring, Tips, Controls. Content derived from GolfRules.ts and GolfScoring.ts. Integrated into GolfScene with HelpPanel and HelpButton. Browser test verifies rendering. See commit 8100b0d.","createdAt":"2026-02-19T10:32:33.444Z","id":"CG-C0MLTBNZQC0SNQM84","references":[],"workItemId":"CG-0MLTAQ7581C3NQOZ"},"type":"comment"}
{"data":{"author":"opencode","comment":"Fixed. Root cause: GeometryMask was drawn at container x=-panelWidth during resetScroll() and never redrawn during slide animation. Added updateMask() method called from tween onUpdate callbacks. Merge commit 2ffee14 on main. File changed: src/ui/HelpPanel.ts (+23/-19 lines).","createdAt":"2026-02-19T11:00:00.543Z","id":"CG-C0MLTCNAN31XBIWEB","references":[],"workItemId":"CG-0MLTCHTQV00N4L9R"},"type":"comment"}
{"data":{"author":"opencode","comment":"Completed: Rewrote runAiTurn() in GolfScene.ts to peek at the AI's draw card, display it with showDrawnCard(), set instruction text to 'AI drew from Stock/Discard pile', and pause for 1000ms (AI_SHOW_DRAW_DELAY) before executing the move. This gives human players visibility into what the AI drew before it acts. All 210+ unit tests pass, TypeScript compiles cleanly. Commit 08415d4, merge commit b22c05d on main.","createdAt":"2026-02-19T11:11:44.410Z","id":"CG-C0MLTD2DQX1GPST0X","references":[],"workItemId":"CG-0MLTCUK500GZUJ6N"},"type":"comment"}
